(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{314:function(e,t,n){},522:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(1),r=n.n(a),i=n(16),s=n.n(i),o=n(83),l=n(7),j=n(23),d=(n(313),n(314),n(28)),u=n(17),b=n(13),h=n.n(b);function O(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var x=h.a.create({baseURL:"http://192.168.0.158:8080/api",headers:Object(u.a)(Object(u.a)({},{"Content-type":"application/json"}),O())}),p={getAll:function(e){return x.get("/tutorials",{params:e})},get:function(e){return x.get("/tutorials/".concat(e))},create:function(e){return x.post("/tutorials",e)},update:function(e,t){return x.put("/tutorials/".concat(e),t)},remove:function(e){return x.delete("/tutorials/".concat(e))},removeAll:function(){return x.delete("/tutorials")}},m=function(){var e={id:null,title:"",description:"",published:!1},t=Object(a.useState)(e),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),o=Object(l.a)(s,2),j=o[0],b=o[1],h=function(e){var t=e.target,n=t.name,c=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,c)))};return Object(c.jsx)("div",{className:"submit-form",children:j?Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"You submitted successfully!"}),Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){i(e),b(!1)},children:"Add"})]}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"title",children:"Title"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:r.title,onChange:h,name:"title"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"description",children:"Description"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:r.description,onChange:h,name:"description"})]}),Object(c.jsx)("button",{onClick:function(){var e={title:r.title,description:r.description};p.create(e).then((function(e){i({id:e.data.id,title:e.data.title,description:e.data.description,published:e.data.published}),b(!0),console.log(e.data)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Submit"})]})})},g=function(e){var t=Object(a.useState)({id:null,title:"",description:"",published:!1}),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),j=o[0],b=o[1];Object(a.useEffect)((function(){var t;t=e.match.params.id,p.get(t).then((function(e){i(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var h=function(e){var t=e.target,n=t.name,c=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,c)))},O=function(e){var t={id:r.id,title:r.title,description:r.description,published:e};p.update(r.id,t).then((function(t){i(Object(u.a)(Object(u.a)({},r),{},{published:e})),console.log(t.data)})).catch((function(e){console.log(e)}))};return Object(c.jsx)("div",{children:r?Object(c.jsxs)("div",{className:"edit-form",children:[Object(c.jsx)("h4",{children:"Tutorial"}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"title",children:"Title"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:r.title,onChange:h})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"description",children:"Description"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:r.description,onChange:h})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Status:"})}),r.published?"Published":"Pending"]})]}),r.published?Object(c.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!1)},children:"UnPublish"}):Object(c.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!0)},children:"Publish"}),Object(c.jsx)("button",{className:"badge badge-danger mr-2",onClick:function(){p.remove(r.id).then((function(t){console.log(t.data),e.history.push("/tutorials")})).catch((function(e){console.log(e)}))},children:"Delete"}),Object(c.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){p.update(r.id,r).then((function(e){console.log(e.data),b("The tutorial was updated successfully!")})).catch((function(e){console.log(e)}))},children:"Update"}),Object(c.jsx)("p",{children:j})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Please click on a Tutorial..."})]})})},f=n(586),v=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),j=s[0],d=s[1],u=Object(a.useState)(-1),b=Object(l.a)(u,2),h=b[0],O=b[1],x=Object(a.useState)(""),m=Object(l.a)(x,2),g=m[0],v=m[1],y=Object(a.useState)(1),S=Object(l.a)(y,2),C=S[0],k=S[1],N=Object(a.useState)(0),w=Object(l.a)(N,2),T=w[0],A=w[1],D=Object(a.useState)(3),E=Object(l.a)(D,2),H=E[0],B=E[1];Object(a.useEffect)((function(){F()}),[C,H]);var F=function(){var e=function(e,t,n){var c={};return e&&(c.title=e),t&&(c.page=t-1),n&&(c.size=n),c}(g,C,H);p.getAll(e).then((function(e){var t=e.data,n=t.tutorials,c=t.totalPages;r(n),A(c),console.log(e.data)})).catch((function(e){console.log(e)}))};return Object(c.jsxs)("div",{className:"list row",children:[Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:g,onChange:function(e){var t=e.target.value;v(t)}}),Object(c.jsx)("div",{className:"input-group-append",children:Object(c.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:F,children:"Search"})})]})}),Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)("h4",{children:"Tutorials List"}),Object(c.jsxs)("div",{className:"mt-3",children:["Items per Page: ",Object(c.jsx)("select",{onChange:function(e){B(e.target.value),k(1)},value:H,children:[3,6,9].map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))}),Object(c.jsx)(f.a,{className:"my-3",count:T,page:C,siblingCount:1,boundaryCount:1,variant:"outlined",shape:"rounded",onChange:function(e,t){k(t)}})]}),Object(c.jsx)("ul",{className:"list-group",children:n&&n.map((function(e,t){return Object(c.jsx)("li",{className:"list-group-item "+(t===h?"active":""),onClick:function(){return function(e,t){d(e),O(t)}(e,t)},children:e.title},t)}))}),Object(c.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){p.removeAll().then((function(e){console.log(e.data),F(),d(null),O(-1)})).catch((function(e){console.log(e)}))},children:"Remove All"})]}),Object(c.jsx)("div",{className:"col-md-6",children:j?Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"Tutorial"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Title:"})})," ",j.title]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Description:"})})," ",j.description]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Status:"})})," ",j.published?"Published":"Pending"]}),Object(c.jsx)(o.b,{to:"/tutorials/"+j._id,className:"badge badge-warning",children:"Edit"})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})},y="http://192.168.0.158:8080/api/auth/",S=function(){return JSON.parse(localStorage.getItem("user"))},C={login:function(e,t){return h.a.post(y+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("user")},register:function(e,t,n){return h.a.post(y+"signup",{username:e,email:t,password:n})},getCurrentUser:S,isAdmin:function(){return!!S()&&S().roles.includes("ROLE_ADMIN")},isKeeper:function(){return!!S()&&S().roles.includes("ROLE_KEEPER")}},k=n(260);function N(e){var t=e.component,n=e.appProps,a=Object(k.a)(e,["component","appProps"]);return Object(c.jsx)(j.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return C.getCurrentUser()&&(C.getCurrentUser().roles.includes("ROLE_KEEPER")||C.getCurrentUser().roles.includes("ROLE_ADMIN"))?Object(c.jsx)(t,Object(u.a)(Object(u.a)({},e),n)):Object(c.jsx)(j.a,{to:"/"})}}))}var w=n(67),T=n.n(w),A=n(240),D=n(103),E=n(5),H=n(563),B=n(577),F=n(588),P=n(584),I=n(578),U=n(579),_=n(575),L=n(107),R=n(582),W=n(580),q=n(581),M=n(583),K=n(564),J=n(571),Y=n(255),z=n.n(Y),V=n(257),G=n.n(V),X=n(256),Q=n.n(X),Z=n(64),$=n.n(Z),ee=n(523),te=n(560),ne=n(561),ce=n(562),ae=n(241),re=n.n(ae),ie=n(242),se=n.n(ie),oe=n(243),le=n.n(oe),je=n(125),de=n.n(je),ue=n(244),be=n.n(ue),he=Object(c.jsxs)("div",{children:[Object(c.jsxs)(ee.a,{button:!0,onClick:function(){window.location.href="/db/hives"},children:[Object(c.jsx)(te.a,{children:Object(c.jsx)(re.a,{})}),Object(c.jsx)(ne.a,{primary:"Hives"})]}),Object(c.jsxs)(ee.a,{button:!0,onClick:function(){window.location.href="/db/profile"},children:[Object(c.jsx)(te.a,{children:Object(c.jsx)(se.a,{})}),Object(c.jsx)(ne.a,{primary:"Profile"})]}),Object(c.jsxs)(ee.a,{button:!0,onClick:function(){window.location.href="/db/notes"},children:[Object(c.jsx)(te.a,{children:Object(c.jsx)(le.a,{})}),Object(c.jsx)(ne.a,{primary:"Notes"})]}),Object(c.jsxs)(ee.a,{button:!0,onClick:function(){C.logout(),window.location.href="/"},children:[Object(c.jsx)(te.a,{children:Object(c.jsx)(be.a,{})}),Object(c.jsx)(ne.a,{primary:"Log Out"})]})]}),Oe=Object(c.jsxs)("div",{children:[Object(c.jsx)(ce.a,{inset:!0,children:"Admin panel"}),Object(c.jsxs)(ee.a,{button:!0,onClick:function(){window.location.href="/db/approve"},children:[Object(c.jsx)(te.a,{children:Object(c.jsx)(de.a,{})}),Object(c.jsx)(ne.a,{primary:"Approve keepers"})]})]}),xe=n(12),pe=n(566),me=n(570),ge=n(569),fe=n(568),ve=n(565),ye=n(567),Se=n(127),Ce=n.n(Se);function ke(e){return Object(c.jsx)(L.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var Ne=n(47),we=n(48),Te="http://192.168.0.158:8080/api",Ae=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getAll",value:function(){return h.a.get(Te+"/notes",{headers:O()})}},{key:"get",value:function(e){return h.a.get(Te+"/notes/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(Te+"/notes",e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(Te+"/notes/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(Te+"/notes/".concat(e),{headers:O()})}}]),e}()),De=n(524),Ee=Object(H.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),He=function(e){var t=Ee(),n=Object(a.useState)({_id:null,content:""}),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(a.useState)(!1),x=Object(l.a)(O,2),p=x[0],m=x[1];Object(a.useEffect)((function(){var t;e.noteid&&(t=e.noteid,Ae.get(t).then((function(e){s(e.data)})).catch((function(e){console.log(e)})))}),[e.noteid]);return Object(c.jsx)("div",{children:i?Object(c.jsxs)("div",{className:"edit-form",children:[b&&Object(c.jsx)(P.a,{mt:1,children:Object(c.jsx)("div",{className:p?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(c.jsx)("form",{children:Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)(De.a,{type:"text",className:"form-control",id:"content",name:"content",value:i.content,onChange:function(e){var t=e.target,n=t.name,c=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,c)))}})})}),Object(c.jsx)("div",{className:t.button,children:Object(c.jsx)(K.a,{container:!0,spacing:2,justify:"center",children:Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Ae.update(i._id,i).then((function(e){console.log(e.data),h("The note was updated successfully!"),m(!0);for(var t=JSON.parse(localStorage.getItem("user")),n=0;n<t.notes.length;n++)if(t.notes[n]._id===i._id){t.notes[n].content=i.content;break}localStorage.setItem("user",JSON.stringify(t))})).catch((function(e){h("Failed to update note!"),m(!1),console.log(e)}))},children:"Update"})})})})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Please click on a Note..."})]})})},Be=Object(H.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),Fe=function(){var e=Be(),t={content:"",user:C.getCurrentUser().id},n=Object(a.useState)(t),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(a.useState)(!1),x=Object(l.a)(O,2),p=x[0],m=x[1];return Object(c.jsx)("div",{children:i?Object(c.jsxs)("div",{className:"edit-form",children:[b&&Object(c.jsx)(P.a,{mt:1,children:Object(c.jsx)("div",{className:p?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(c.jsx)("form",{children:Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)(De.a,{type:"text",className:"form-control",id:"content",name:"content",value:i.content,onChange:function(e){var t=e.target,n=t.name,c=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,c)))}})})}),Object(c.jsx)("div",{className:e.button,children:Object(c.jsx)(K.a,{container:!0,spacing:2,justify:"center",children:Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Ae.create(i).then((function(e){console.log(e.data),h("The note was created successfully!"),m(!0);var t=JSON.parse(localStorage.getItem("user"));t.notes.splice(t.notes.length,0,e.data),localStorage.setItem("user",JSON.stringify(t))})).catch((function(e){h("Failed to create note!"),m(!1),console.log(e)}))},children:"Create"})})})})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Please click on a Note..."})]})})},Pe=n(525),Ie=Object(H.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},button:{marginTop:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Ue=function(){var e=Ie(),t=Object(a.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1],o=Object(a.useState)(null),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(a.useState)(-1),h=Object(l.a)(b,2),O=h[0],x=h[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),g=m[0],f=m[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),S=y[0],k=y[1],N=Object(a.useState)(!1),w=Object(l.a)(N,2),T=w[0],A=w[1],D=function(){A(!1)};Object(a.useEffect)((function(){E()}),[]);var E=function(){var e=C.getCurrentUser();e&&e.notes&&s(e.notes)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(K.a,{item:!0,xs:12,children:Object(c.jsx)(Pe.a,{className:e.paper,children:Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(ke,{children:"Notes"}),Object(c.jsxs)(pe.a,{size:"small",children:[Object(c.jsx)(ye.a,{children:Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(ge.a,{children:"Note"}),Object(c.jsx)(ge.a,{align:"center",children:"Date"}),Object(c.jsx)(ge.a,{align:"right",children:"Actions"})]})}),i&&Object(c.jsx)(me.a,{children:i.map((function(e,t){return Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(ge.a,{children:e.content}),Object(c.jsxs)(ge.a,{align:"center",children:[new Date(e.createdAt).toLocaleDateString(),"   ",new Date(e.createdAt).toLocaleTimeString()]}),Object(c.jsxs)(ge.a,{align:"right",children:[Object(c.jsx)(J.a,{color:"primary",onClick:function(){return function(e){u(i[e]),f(!0)}(t)},children:Object(c.jsx)(Ce.a,{})}),Object(c.jsx)(J.a,{color:"primary",onClick:function(){return function(e){u(i[e]),x(e),A(!0)}(t)},children:Object(c.jsx)($.a,{})})]})]},t)}))})]}),Object(c.jsx)("div",{className:e.seeMore,children:Object(c.jsx)(J.a,{color:"primary",onClick:function(){k(!0)},children:"Create new..."})})]})})}),d&&Object(c.jsxs)(xe.a,{show:g,onHide:function(){f(!1),E()},centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsx)(xe.a.Title,{children:"Update note"})}),Object(c.jsx)(xe.a.Body,{children:Object(c.jsx)(He,{noteid:d._id})})]}),Object(c.jsxs)(xe.a,{show:S,onHide:function(){k(!1),E()},centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsx)(xe.a.Title,{children:"Create note"})}),Object(c.jsx)(xe.a.Body,{children:Object(c.jsx)(Fe,{})})]}),d&&Object(c.jsxs)(xe.a,{show:T,onHide:D,centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsx)(xe.a.Title,{children:"Delete?"})}),Object(c.jsx)(xe.a.Footer,{children:Object(c.jsx)("div",{className:e.button,children:Object(c.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:D,children:"Close"})}),Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){Ae.delete(d._id).then((function(){var e=JSON.parse(localStorage.getItem("user"));e.notes.splice(O,1),localStorage.setItem("user",JSON.stringify(e))})).catch((function(e){console.log(e)})),A(!1),setTimeout((function(){E()}),100)},children:"Delete"})})]})})})]})]})},_e=n(35),Le=n(69),Re=n(590),We=n(574),qe=n(585),Me=n(576),Ke="http://192.168.0.158:8080/api/hive",Je=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getAll",value:function(){return h.a.get(Ke,{headers:O()})}},{key:"getAllOfKeeper",value:function(e){return h.a.get(Ke+"?keeper=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(Ke+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(Ke,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(Ke+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(Ke+"/".concat(e),{headers:O()})}}]),e}()),Ye="http://192.168.0.158:8080/api/data",ze=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getAll",value:function(){return h.a.get(Ye,{headers:O()})}},{key:"getAllOfHive",value:function(e){return h.a.get(Ye+"?hive=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(Ye+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(Ye,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(Ye+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(Ye+"/".concat(e),{headers:O()})}}]),e}()),Ve=n(239),Ge=Object(H.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),Xe=function(){var e=Ge(),t={title:"",keeper:C.getCurrentUser().id},n=Object(a.useState)(t),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(a.useState)(!1),x=Object(l.a)(O,2),p=x[0],m=x[1];return Object(c.jsx)("div",{children:i?Object(c.jsxs)("div",{className:"edit-form",children:[b&&Object(c.jsx)(P.a,{mt:1,children:Object(c.jsx)("div",{className:p?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(c.jsx)("form",{children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)(L.a,{component:"h1",variant:"h5",children:"Title"}),Object(c.jsx)(Ve.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Hives title",name:"title",autoFocus:!0,onChange:function(e){var t=e.target,n=t.name,c=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,c)))}})]})}),Object(c.jsx)("div",{className:e.button,children:Object(c.jsx)(K.a,{container:!0,spacing:2,justify:"center",children:Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Je.create(i).then((function(e){console.log(e.data),h("Hive was created successfully! ID="+e.data._id),m(!0)})).catch((function(e){h("Failed to create hive!"),m(!1),console.log(e)}))},children:"Create"})})})})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Please click on a Hive..."})]})})},Qe=Object(H.a)((function(e){return{button:{marginTop:e.spacing(4)},depositContext:{flex:1}}})),Ze=function(e){var t=Qe(),n=Object(a.useState)({_id:null,title:""}),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(a.useState)(!1),x=Object(l.a)(O,2),p=x[0],m=x[1];Object(a.useEffect)((function(){var t;e.hiveid&&(t=e.hiveid,Je.get(t).then((function(e){s(e.data)})).catch((function(e){console.log(e)})))}),[e.hiveid]);return Object(c.jsx)("div",{children:i?Object(c.jsxs)("div",{className:"edit-form",children:[b&&Object(c.jsx)(P.a,{mt:1,children:Object(c.jsx)("div",{className:p?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(c.jsx)("form",{children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)(L.a,{component:"h1",variant:"h5",children:"Title"}),Object(c.jsx)(Ve.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Hives title",name:"title",autoFocus:!0,value:i.title,onChange:function(e){var t=e.target,n=t.name,c=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,c)))}}),Object(c.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Hive ID: ",i._id]})]})}),Object(c.jsx)("div",{className:t.button,children:Object(c.jsx)(K.a,{container:!0,spacing:2,justify:"center",children:Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Je.update(i._id,i).then((function(e){console.log(e.data),h("Hive was updated successfully!"),m(!0)})).catch((function(e){h("Failed to update hive!"),m(!1),console.log(e)}))},children:"Update"})})})})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Please click on a Hive..."})]})})},$e=n(254),et=n.n($e),tt=Object(H.a)((function(e){return{depositContext:{flex:1},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:340},formControl:{margin:e.spacing(1),minWidth:120},allignRight:{display:"flex",justifyContent:"right"}}}));function nt(){var e=Object(_e.a)(),t=tt(),n=Object(E.a)(t.paper,t.fixedHeight),i=Object(a.useState)(void 0),s=Object(l.a)(i,2),o=s[0],j=s[1],d=Object(a.useState)(null),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(a.useState)(-1),x=Object(l.a)(O,2),p=x[0],m=x[1],g=Object(a.useState)(void 0),f=Object(l.a)(g,2),v=f[0],y=f[1],S=Object(a.useState)("temperature"),k=Object(l.a)(S,2),N=k[0],w=k[1],T=Object(a.useState)(!1),A=Object(l.a)(T,2),D=A[0],H=A[1],B=Object(a.useState)(!1),F=Object(l.a)(B,2),P=F[0],I=F[1],U=Object(a.useState)(!1),_=Object(l.a)(U,2),R=_[0],W=_[1],q=function(){W(!1)};Object(a.useEffect)((function(){M()}),[b]);var M=function(){var e=C.getCurrentUser();e&&Je.getAllOfKeeper(e.id).then((function(e){j(e.data),e.data.length>0&&Y()})).catch((function(e){console.log(e)}))},Y=function(){b&&ze.getAllOfHive(b._id).then((function(e){var t=e.data;t.forEach((function(e){e.createdAt=new Date(e.createdAt).toLocaleTimeString()})),y(t)})).catch((function(e){console.log(e)}))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(K.a,{item:!0,xs:12,md:8,lg:9,children:Object(c.jsx)(Pe.a,{className:n,children:Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(ke,{children:b?b.title+" "+N:"Choose a beehive"}),v&&v.length>0&&Object(c.jsx)(Le.d,{children:Object(c.jsxs)(Le.c,{data:v?v.slice(v.length-10,v.length):null,margin:{top:16,right:16,bottom:0,left:24},children:[Object(c.jsx)(Le.f,{dataKey:"createdAt",stroke:e.palette.text.secondary,interval:"preserveStartEnd"}),Object(c.jsx)(Le.g,{stroke:e.palette.text.secondary,children:Object(c.jsx)(Le.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:N})}),Object(c.jsx)(Le.e,{}),Object(c.jsx)(Le.b,{type:"monotone",dataKey:N,stroke:e.palette.primary.main,dot:!0})]})})]})})}),Object(c.jsx)(K.a,{item:!0,xs:12,md:4,lg:3,children:Object(c.jsx)(Pe.a,{className:n,children:Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(ke,{children:"Current hive data"}),v&&v.length>0&&Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Temperature: ",v[v.length-1].temperature,"*C ",Object(c.jsx)("br",{}),"Humidity: ",v[v.length-1].humidity,"% ",Object(c.jsx)("br",{}),"Pressure: ",v[v.length-1].pressure,"kPa ",Object(c.jsx)("br",{}),"Weight: ",v[v.length-1].weight,"kg"]})}),!(v&&v.length>0)&&Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Temperature: --*C ",Object(c.jsx)("br",{}),"Humidity: --% ",Object(c.jsx)("br",{}),"Pressure: --kPa ",Object(c.jsx)("br",{}),"Weight: --kg"]})}),Object(c.jsxs)(We.a,{className:t.formControl,children:[Object(c.jsx)(Re.a,{id:"demo-simple-select-label",children:"Selected Hive"}),Object(c.jsxs)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:-1===p?"":p,onChange:function(e){m(e.target.value),h(o[e.target.value]),Y()},children:[Object(c.jsx)(Me.a,{value:"",disabled:!0,children:Object(c.jsx)("em",{children:"None"})}),o&&o.map((function(e,t){return Object(c.jsx)(Me.a,{value:t,children:e.title},t)}))]})]}),Object(c.jsxs)(We.a,{className:t.formControl,children:[Object(c.jsx)(Re.a,{id:"demo-simple-select-label",children:"Measure to graph"}),Object(c.jsxs)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:N,onChange:function(e){w(e.target.value)},children:[Object(c.jsx)(Me.a,{value:"temperature",children:"Temperature"}),Object(c.jsx)(Me.a,{value:"humidity",children:"Humidity"}),Object(c.jsx)(Me.a,{value:"pressure",children:"Pressure"}),Object(c.jsx)(Me.a,{value:"weight",children:"Weight"})]})]}),Object(c.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(c.jsx)(J.a,{color:"primary",onClick:function(){I(!0)},children:Object(c.jsx)(et.a,{})}),b&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(J.a,{color:"primary",style:{marginLeft:"auto",alignItems:"center"},onClick:function(){H(!0)},children:Object(c.jsx)(Ce.a,{})}),Object(c.jsx)(J.a,{color:"primary",style:{marginLeft:"auto",alignItems:"center"},onClick:function(){W(!0)},children:Object(c.jsx)($.a,{})})]})]})]})})}),b&&Object(c.jsxs)(xe.a,{show:D,onHide:function(){H(!1),M()},centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsx)(xe.a.Title,{children:"Update hive"})}),Object(c.jsx)(xe.a.Body,{children:Object(c.jsx)(Ze,{hiveid:b._id})})]}),Object(c.jsxs)(xe.a,{show:P,onHide:function(){I(!1),M()},centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsx)(xe.a.Title,{children:"Add a new hive"})}),Object(c.jsx)(xe.a.Body,{children:Object(c.jsx)(Xe,{})})]}),b&&Object(c.jsxs)(xe.a,{show:R,onHide:q,centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsx)(xe.a.Title,{children:"Delete?"})}),Object(c.jsx)(xe.a.Footer,{children:Object(c.jsx)("div",{className:t.button,children:Object(c.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:q,children:"Close"})}),Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){Je.delete(b._id).then((function(){})).catch((function(e){console.log(e)})),W(!1),setTimeout((function(){M()}),100)},children:"Delete"})})]})})})]})]})}var ct=Object(H.a)((function(e){return{depositContext:{flex:1},seeMore:{marginTop:e.spacing(3)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}}));function at(){var e=ct(),t=Object(a.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1];Object(a.useEffect)((function(){o()}),[]);var o=function(){s(C.getCurrentUser())};return Object(c.jsx)(K.a,{item:!0,xs:12,md:4,lg:3,children:Object(c.jsx)(Pe.a,{className:e.paper,children:Object(c.jsx)(r.a.Fragment,{children:i&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(ke,{children:[i.username," profile"]}),Object(c.jsx)(L.a,{component:"p",variant:"h5",children:"ID:"}),Object(c.jsx)("ul",{children:Object(c.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:Object(c.jsx)("li",{children:i.id})})}),Object(c.jsx)(L.a,{component:"p",variant:"h5",children:"E-Mail:"}),Object(c.jsx)("ul",{children:Object(c.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:Object(c.jsx)("li",{children:i.email})})}),Object(c.jsx)(L.a,{component:"p",variant:"h5",children:"Authorities:"}),Object(c.jsx)("ul",{children:Object(c.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:i.roles&&i.roles.map((function(e,t){return Object(c.jsx)("li",{children:e},t)}))})})]})})})})}var rt="http://192.168.0.158:8080/api/test/",it=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getPublicContent",value:function(){return h.a.get(rt+"all")}},{key:"getUserBoard",value:function(){return h.a.get(rt+"user",{headers:O()})}},{key:"getKeeperBoard",value:function(){return h.a.get(rt+"keeper",{headers:O()})}},{key:"getAdminBoard",value:function(){return h.a.get(rt+"admin",{headers:O()})}},{key:"getAllUsers",value:function(){return h.a.get("http://192.168.0.158:8080/api/users",{headers:O()})}},{key:"setKeeperRole",value:function(e){return h.a.put("http://192.168.0.158:8080/api/users/setkeeper/".concat(e),null,{headers:O()})}},{key:"deleteUser",value:function(e){return h.a.delete("http://192.168.0.158:8080/api/users/".concat(e),{headers:O()})}}]),e}()),st=Object(H.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},button:{marginTop:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),ot=function(){var e=st(),t=Object(a.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1],o=Object(a.useState)(null),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),O=h[0],x=h[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),g=m[0],f=m[1],v=Object(a.useState)(""),y=Object(l.a)(v,2),S=y[0],k=y[1],N=Object(a.useState)(!1),w=Object(l.a)(N,2),A=w[0],E=w[1],H=function(){x(!1),F()},B=function(){f(!1)};function F(){return I.apply(this,arguments)}function I(){return(I=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.getCurrentUser()){e.next=4;break}return e.next=4,it.getAllUsers().then((function(e){s(e.data)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){F()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(K.a,{item:!0,xs:12,md:4,lg:3,children:Object(c.jsx)(Pe.a,{className:e.paper,children:Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(ke,{children:"Approve registered users"}),Object(c.jsxs)(pe.a,{size:"small",children:[Object(c.jsx)(ye.a,{children:Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(ge.a,{children:"Username"}),Object(c.jsx)(ge.a,{align:"right",children:"Actions"})]})}),i&&Object(c.jsx)(me.a,{children:i.map((function(e,t){return Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(ge.a,{children:e.username}),Object(c.jsxs)(ge.a,{align:"right",children:[Object(c.jsx)(J.a,{color:"primary",onClick:function(){return function(e){u(i[e]),E(!1),k(""),x(!0)}(t)},children:Object(c.jsx)(de.a,{})}),Object(c.jsx)(J.a,{color:"primary",onClick:function(){return function(e){u(i[e]),E(!1),k(""),f(!0)}(t)},children:Object(c.jsx)($.a,{})})]})]},t)}))})]})]})})}),d&&Object(c.jsxs)(xe.a,{show:O,onHide:H,centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsxs)(xe.a.Title,{children:["Approve user ",d.username,"?"]})}),S&&Object(c.jsx)(xe.a.Body,{children:Object(c.jsx)(P.a,{mt:1,children:Object(c.jsx)("div",{className:A?"alert alert-success":"alert alert-danger",role:"alert",children:S})})}),Object(c.jsx)(xe.a.Footer,{children:Object(c.jsx)("div",{className:e.button,children:Object(c.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:H,children:"Close"})}),Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){it.setKeeperRole(d._id).then((function(e){k(e.data.message),E(!0)})).catch((function(e){console.log(e),console.log(e.message),E(!1)}))},children:"Approve"})})]})})})]}),d&&Object(c.jsxs)(xe.a,{show:g,onHide:B,centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsxs)(xe.a.Title,{children:["Delete ",d.username,"?"]})}),S&&Object(c.jsx)(xe.a.Body,{children:Object(c.jsx)(P.a,{mt:1,children:Object(c.jsx)("div",{className:A?"alert alert-success":"alert alert-danger",role:"alert",children:S})})}),Object(c.jsx)(xe.a.Footer,{children:Object(c.jsx)("div",{className:e.button,children:Object(c.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:B,children:"Close"})}),Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){it.deleteUser(d._id).then((function(e){k(e.data.message),E(!0)})).catch((function(e){console.log(e),E(!1)})),f(!1),setTimeout((function(){F()}),100)},children:"Delete"})})]})})})]})]})},lt="http://192.168.0.158:8080/api/notifications",jt=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getAll",value:function(){return h.a.get(lt,{headers:O()})}},{key:"getAllOfHive",value:function(e){return h.a.get(lt+"?hive=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(lt+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(lt,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(lt+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(lt+"/".concat(e),{headers:O()})}}]),e}());function dt(){return Object(c.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(J.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var ut=Object(H.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function bt(){var e=ut(),t=Object(a.useState)(void 0),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),o=Object(l.a)(s,2),j=o[0],d=o[1],u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],O=b[1],x=function(){d(!1),p()};function p(){return m.apply(this,arguments)}function m(){return(m=Object(D.a)(T.a.mark((function e(){var t,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=C.getCurrentUser())){e.next=11;break}return n=[],e.next=5,Je.getAllOfKeeper(t.id).then((function(e){n=e.data})).catch((function(e){console.log(e)}));case 5:return c=[],e.next=8,Promise.all(n.map(function(){var e=Object(D.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.getAllOfHive(t._id).then((function(e){var t,n=Object(A.a)(e.data);try{for(n.s();!(t=n.n()).done;){var a=t.value;c.splice(c.length,0,a)}}catch(r){n.e(r)}finally{n.f()}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:i(c),n=null,c=null;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){p()}),[]),Object(c.jsxs)("div",{className:e.root,children:[Object(c.jsx)(B.a,{}),Object(c.jsx)(I.a,{position:"absolute",className:Object(E.a)(e.appBar,h&&e.appBarShift),children:Object(c.jsxs)(U.a,{className:e.toolbar,children:[Object(c.jsx)(W.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){O(!0)},className:Object(E.a)(e.menuButton,h&&e.menuButtonHidden),children:Object(c.jsx)(z.a,{})}),Object(c.jsx)(L.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Dashboard"}),Object(c.jsx)(W.a,{color:"inherit",onClick:function(){d(!0),p()},children:Object(c.jsx)(q.a,{badgeContent:r?r.length:"",color:"secondary",children:Object(c.jsx)(Q.a,{})})})]})}),Object(c.jsxs)(F.a,{variant:"permanent",classes:{paper:Object(E.a)(e.drawerPaper,!h&&e.drawerPaperClose)},open:h,children:[Object(c.jsx)("div",{className:e.toolbarIcon,children:Object(c.jsx)(W.a,{onClick:function(){O(!1)},children:Object(c.jsx)(G.a,{})})}),Object(c.jsx)(R.a,{}),Object(c.jsx)(_.a,{children:he}),C.getCurrentUser().roles.includes("ROLE_ADMIN")&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(R.a,{}),Object(c.jsx)(_.a,{children:Oe})]})]}),Object(c.jsxs)("main",{className:e.content,children:[Object(c.jsx)("div",{className:e.appBarSpacer}),Object(c.jsxs)(M.a,{maxWidth:"lg",className:e.container,children:[Object(c.jsxs)(K.a,{container:!0,spacing:3,justify:"center",children:[Object(c.jsx)(N,{path:"/db/notes",component:Ue}),Object(c.jsx)(N,{path:"/db/hives",component:nt}),Object(c.jsx)(N,{path:"/db/profile",component:at}),Object(c.jsx)(N,{path:"/db/approve",component:ot})]}),Object(c.jsx)(P.a,{pt:4,children:Object(c.jsx)(dt,{})})]})]}),Object(c.jsxs)(xe.a,{show:j,onHide:x,centered:!0,children:[Object(c.jsx)(xe.a.Header,{closeButton:!0,children:Object(c.jsx)(xe.a.Title,{children:"Notifications"})}),Object(c.jsx)(xe.a.Body,{children:Object(c.jsx)(pe.a,{size:"small",children:r&&Object(c.jsx)(me.a,{children:r.map((function(e,t){return Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(ge.a,{children:e.level}),Object(c.jsx)(ge.a,{children:e.content}),Object(c.jsxs)(ge.a,{align:"center",children:[new Date(e.createdAt).toLocaleDateString(),"   ",new Date(e.createdAt).toLocaleTimeString()]}),Object(c.jsx)(ge.a,{align:"right",children:Object(c.jsx)(J.a,{color:"primary",onClick:function(){return function(e){jt.delete(r[e]._id),p()}(t)},children:Object(c.jsx)($.a,{})})})]},t)}))})})}),Object(c.jsx)(xe.a.Footer,{children:Object(c.jsx)("div",{className:e.button,children:Object(c.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:x,children:"Close"})}),Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){r.forEach((function(e){jt.delete(e._id)})),d(!1),p()},children:"Clear all"})})]})})})]})]})}var ht=n(589),Ot=n(131),xt=n.n(Ot),pt=n(57);function mt(){return Object(c.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(J.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var gt=Object(H.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(http://source.unsplash.com/collection/8626361)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ft=function(e){var t=gt(),n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),O=h[0],x=h[1],p=Object(a.useState)(""),m=Object(l.a)(p,2),g=m[0],f=m[1];return Object(c.jsxs)(K.a,{container:!0,component:"main",className:t.root,children:[Object(c.jsx)(B.a,{}),Object(c.jsx)(K.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(c.jsx)(K.a,{item:!0,xs:12,sm:8,md:5,component:Pe.a,elevation:6,square:!0,children:Object(c.jsxs)("div",{className:t.paper,children:[Object(c.jsx)(ht.a,{className:t.avatar,children:Object(c.jsx)(xt.a,{})}),Object(c.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(c.jsxs)(pt.ValidatorForm,{className:t.form,onSubmit:function(t){t.preventDefault(),f(""),x(!0),C.login(i,d).then((function(){e.history.push("/h"),window.location.reload()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();x(!1),f(t)})),x(!1)},onError:function(e){return console.log(e)},children:[g&&Object(c.jsx)(P.a,{mt:5,children:Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})}),Object(c.jsx)(pt.TextValidator,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"username",autoFocus:!0,value:i,onChange:function(e){var t=e.target.value;s(t)},validators:["required"],errorMessages:["this field is required"]}),Object(c.jsx)(pt.TextValidator,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){var t=e.target.value;u(t)},validators:["required"],errorMessages:["this field is required"]}),Object(c.jsx)(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:O,children:"Sign In"}),Object(c.jsx)(K.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(J.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})}),Object(c.jsx)(P.a,{mt:5,children:Object(c.jsx)(mt,{})})]})]})})]})};function vt(){return Object(c.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(J.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var yt=Object(H.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(http://source.unsplash.com/collection/8626361)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),St=function(e){var t=yt(),n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),O=h[0],x=h[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),g=m[0],f=m[1],v=Object(a.useState)(""),y=Object(l.a)(v,2),S=y[0],k=y[1];return Object(c.jsxs)(K.a,{container:!0,component:"main",className:t.root,children:[Object(c.jsx)(B.a,{}),Object(c.jsx)(K.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(c.jsx)(K.a,{item:!0,xs:12,sm:8,md:5,component:Pe.a,elevation:6,square:!0,children:Object(c.jsxs)("div",{className:t.paper,children:[Object(c.jsx)(ht.a,{className:t.avatar,children:Object(c.jsx)(xt.a,{})}),Object(c.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(c.jsxs)(pt.ValidatorForm,{className:t.form,onSubmit:function(e){e.preventDefault(),k(""),f(!1),C.register(i,d,O).then((function(e){k(e.data.message+" You will be able to use website when administrator approves you as a keeper."),f(!0)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();k(t),f(!1)}))},onError:function(e){return console.log(e)},children:[S&&Object(c.jsx)(P.a,{mt:5,children:Object(c.jsx)("div",{className:g?"alert alert-success":"alert alert-danger",role:"alert",children:S})}),!g&&Object(c.jsxs)(P.a,{mt:5,children:[Object(c.jsxs)(K.a,{container:!0,spacing:2,children:[Object(c.jsx)(K.a,{item:!0,xs:12,children:Object(c.jsx)(pt.TextValidator,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",value:i,onChange:function(e){var t=e.target.value;s(t)},autoFocus:!0,validators:["required","minStringLength:3","maxStringLength:20"],errorMessages:["this field is required","The username must be between 3 and 20 characters.","The username must be between 3 and 20 characters."]})}),Object(c.jsx)(K.a,{item:!0,xs:12,children:Object(c.jsx)(pt.TextValidator,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:d,onChange:function(e){var t=e.target.value;u(t)},validators:["required","isEmail"],errorMessages:["this field is required","This is not valid email."]})}),Object(c.jsx)(K.a,{item:!0,xs:12,children:Object(c.jsx)(pt.TextValidator,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:function(e){var t=e.target.value;x(t)},validators:["required","minStringLength:6","maxStringLength:40"],errorMessages:["this field is required","The password must be between 6 and 40 characters.","The password must be between 6 and 40 characters."]})})]}),Object(c.jsx)(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(c.jsx)(K.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(J.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(c.jsx)(P.a,{mt:5,children:Object(c.jsx)(vt,{})})]})})]})},Ct=n(259),kt=n.n(Ct);function Nt(){return Object(c.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var wt=Object(H.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column",minHeight:"100vh"},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{padding:e.spacing(3,2),marginTop:"auto",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]}}})),Tt=function(e){var t=wt(),n=Object(a.useState)(!1),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(!1),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(a.useState)(void 0),h=Object(l.a)(b,2),O=h[0],x=h[1];Object(a.useEffect)((function(){var e=C.getCurrentUser();e&&(x(e),s(e.roles.includes("ROLE_KEEPER")),u(e.roles.includes("ROLE_ADMIN")))}),[]);var p=function(){C.logout(),window.location.reload()};return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(B.a,{}),Object(c.jsx)(I.a,{position:"relative",children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(kt.a,{className:t.icon}),Object(c.jsx)(L.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Hive Manager"})]})}),Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:t.heroContent,children:Object(c.jsxs)(M.a,{maxWidth:"md",children:[Object(c.jsx)(L.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Welcome to HiveManager"}),Object(c.jsx)(L.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Tool to make you manage your beehives with ease."}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:t.heroButtons,children:[!O&&Object(c.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){return e.history.push("/login")},children:"Sign In"})}),Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:function(){return e.history.push("/register")},children:"Sign Up"})})]}),O&&(i||d)&&Object(c.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){return e.history.push("/db/hives")},children:"DashBoard"})}),Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:p,children:"Log Out"})})]}),O&&!(i||d)&&Object(c.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(L.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"You will be able to use website when administrator approves you as a keeper."})}),Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:p,children:"Log Out"})})]})]})]})})}),Object(c.jsx)("footer",{className:t.footer,children:Object(c.jsx)(M.a,{maxWidth:"sm",children:Object(c.jsx)(Nt,{})})})]})},At=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],u=Object(a.useState)(void 0),b=Object(l.a)(u,2),h=b[0],O=b[1];Object(a.useEffect)((function(){var e=C.getCurrentUser();e&&(O(e),r(e.roles.includes("ROLE_KEEPER")),d(e.roles.includes("ROLE_ADMIN")))}),[]);return Object(c.jsx)("div",{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{path:"/login",component:ft}),Object(c.jsx)(j.b,{exact:!0,path:"/register",component:St}),Object(c.jsx)(j.b,{exact:!0,path:["/","/h"],component:Tt}),Object(c.jsx)(N,{path:"/db",component:bt,appProps:{currentUser:h,showAdminBoard:o,showKeeperBoard:n}}),(o||n)&&Object(c.jsx)(j.b,{path:"/db",component:bt}),Object(c.jsx)(j.b,{exact:!0,path:"/tutorials",component:v}),Object(c.jsx)(j.b,{exact:!0,path:"/add",component:m}),Object(c.jsx)(j.b,{path:"/tutorials/:id",component:g})]})})};s.a.render(Object(c.jsx)(o.a,{children:Object(c.jsx)(At,{})}),document.getElementById("root"))}},[[522,1,2]]]);
//# sourceMappingURL=main.81050cf2.chunk.js.map