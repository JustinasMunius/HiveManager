(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{314:function(e,t,n){},522:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),r=n.n(c),i=n(16),s=n.n(i),o=n(83),l=n(7),j=n(23),d=(n(313),n(314),n(28)),u=n(17),b=n(13),h=n.n(b);function O(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var x=h.a.create({baseURL:"http://localhost:8080/api",headers:Object(u.a)(Object(u.a)({},{"Content-type":"application/json"}),O())}),p={getAll:function(e){return x.get("/tutorials",{params:e})},get:function(e){return x.get("/tutorials/".concat(e))},create:function(e){return x.post("/tutorials",e)},update:function(e,t){return x.put("/tutorials/".concat(e),t)},remove:function(e){return x.delete("/tutorials/".concat(e))},removeAll:function(){return x.delete("/tutorials")}},m=function(){var e={id:null,title:"",description:"",published:!1},t=Object(c.useState)(e),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),j=o[0],b=o[1],h=function(e){var t=e.target,n=t.name,a=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,a)))};return Object(a.jsx)("div",{className:"submit-form",children:j?Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"You submitted successfully!"}),Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){i(e),b(!1)},children:"Add"})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:r.title,onChange:h,name:"title"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:r.description,onChange:h,name:"description"})]}),Object(a.jsx)("button",{onClick:function(){var e={title:r.title,description:r.description};p.create(e).then((function(e){i({id:e.data.id,title:e.data.title,description:e.data.description,published:e.data.published}),b(!0),console.log(e.data)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Submit"})]})})},g=function(e){var t=Object(c.useState)({id:null,title:"",description:"",published:!1}),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(""),o=Object(l.a)(s,2),j=o[0],b=o[1];Object(c.useEffect)((function(){var t;t=e.match.params.id,p.get(t).then((function(e){i(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var h=function(e){var t=e.target,n=t.name,a=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,a)))},O=function(e){var t={id:r.id,title:r.title,description:r.description,published:e};p.update(r.id,t).then((function(t){i(Object(u.a)(Object(u.a)({},r),{},{published:e})),console.log(t.data)})).catch((function(e){console.log(e)}))};return Object(a.jsx)("div",{children:r?Object(a.jsxs)("div",{className:"edit-form",children:[Object(a.jsx)("h4",{children:"Tutorial"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:r.title,onChange:h})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:r.description,onChange:h})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Status:"})}),r.published?"Published":"Pending"]})]}),r.published?Object(a.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!1)},children:"UnPublish"}):Object(a.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!0)},children:"Publish"}),Object(a.jsx)("button",{className:"badge badge-danger mr-2",onClick:function(){p.remove(r.id).then((function(t){console.log(t.data),e.history.push("/tutorials")})).catch((function(e){console.log(e)}))},children:"Delete"}),Object(a.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){p.update(r.id,r).then((function(e){console.log(e.data),b("The tutorial was updated successfully!")})).catch((function(e){console.log(e)}))},children:"Update"}),Object(a.jsx)("p",{children:j})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Tutorial..."})]})})},f=n(586),v=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),s=Object(l.a)(i,2),j=s[0],d=s[1],u=Object(c.useState)(-1),b=Object(l.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(""),m=Object(l.a)(x,2),g=m[0],v=m[1],y=Object(c.useState)(1),S=Object(l.a)(y,2),C=S[0],k=S[1],N=Object(c.useState)(0),w=Object(l.a)(N,2),T=w[0],A=w[1],D=Object(c.useState)(3),F=Object(l.a)(D,2),E=F[0],H=F[1];Object(c.useEffect)((function(){I()}),[C,E]);var I=function(){var e=function(e,t,n){var a={};return e&&(a.title=e),t&&(a.page=t-1),n&&(a.size=n),a}(g,C,E);p.getAll(e).then((function(e){var t=e.data,n=t.tutorials,a=t.totalPages;r(n),A(a),console.log(e.data)})).catch((function(e){console.log(e)}))};return Object(a.jsxs)("div",{className:"list row",children:[Object(a.jsx)("div",{className:"col-md-8",children:Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:g,onChange:function(e){var t=e.target.value;v(t)}}),Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:I,children:"Search"})})]})}),Object(a.jsxs)("div",{className:"col-md-6",children:[Object(a.jsx)("h4",{children:"Tutorials List"}),Object(a.jsxs)("div",{className:"mt-3",children:["Items per Page: ",Object(a.jsx)("select",{onChange:function(e){H(e.target.value),k(1)},value:E,children:[3,6,9].map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))}),Object(a.jsx)(f.a,{className:"my-3",count:T,page:C,siblingCount:1,boundaryCount:1,variant:"outlined",shape:"rounded",onChange:function(e,t){k(t)}})]}),Object(a.jsx)("ul",{className:"list-group",children:n&&n.map((function(e,t){return Object(a.jsx)("li",{className:"list-group-item "+(t===h?"active":""),onClick:function(){return function(e,t){d(e),O(t)}(e,t)},children:e.title},t)}))}),Object(a.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){p.removeAll().then((function(e){console.log(e.data),I(),d(null),O(-1)})).catch((function(e){console.log(e)}))},children:"Remove All"})]}),Object(a.jsx)("div",{className:"col-md-6",children:j?Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Tutorial"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Title:"})})," ",j.title]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Description:"})})," ",j.description]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Status:"})})," ",j.published?"Published":"Pending"]}),Object(a.jsx)(o.b,{to:"/tutorials/"+j._id,className:"badge badge-warning",children:"Edit"})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})},y="http://localhost:8080/api/auth/",S=function(){return JSON.parse(localStorage.getItem("user"))},C={login:function(e,t){return h.a.post(y+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("user")},register:function(e,t,n){return h.a.post(y+"signup",{username:e,email:t,password:n})},getCurrentUser:S,isAdmin:function(){return!!S()&&S().roles.includes("ROLE_ADMIN")},isKeeper:function(){return!!S()&&S().roles.includes("ROLE_KEEPER")}},k=n(260);function N(e){var t=e.component,n=e.appProps,c=Object(k.a)(e,["component","appProps"]);return Object(a.jsx)(j.b,Object(u.a)(Object(u.a)({},c),{},{render:function(e){return C.getCurrentUser()&&(C.getCurrentUser().roles.includes("ROLE_KEEPER")||C.getCurrentUser().roles.includes("ROLE_ADMIN"))?Object(a.jsx)(t,Object(u.a)(Object(u.a)({},e),n)):Object(a.jsx)(j.a,{to:"/"})}}))}var w=n(67),T=n.n(w),A=n(240),D=n(103),F=n(5),E=n(563),H=n(577),I=n(588),B=n(584),P=n(578),U=n(579),_=n(575),L=n(107),M=n(582),R=n(580),q=n(581),W=n(583),J=n(564),K=n(571),z=n(255),V=n.n(z),Y=n(257),G=n.n(Y),X=n(256),Q=n.n(X),Z=n(64),$=n.n(Z),ee=n(523),te=n(560),ne=n(561),ae=n(562),ce=n(241),re=n.n(ce),ie=n(242),se=n.n(ie),oe=n(243),le=n.n(oe),je=n(125),de=n.n(je),ue=n(244),be=n.n(ue),he=Object(a.jsxs)("div",{children:[Object(a.jsxs)(ee.a,{button:!0,onClick:function(){window.location.href="/#/db/hives"},children:[Object(a.jsx)(te.a,{children:Object(a.jsx)(re.a,{})}),Object(a.jsx)(ne.a,{primary:"Hives"})]}),Object(a.jsxs)(ee.a,{button:!0,onClick:function(){window.location.href="/#/db/profile"},children:[Object(a.jsx)(te.a,{children:Object(a.jsx)(se.a,{})}),Object(a.jsx)(ne.a,{primary:"Profile"})]}),Object(a.jsxs)(ee.a,{button:!0,onClick:function(){window.location.href="/#/db/notes"},children:[Object(a.jsx)(te.a,{children:Object(a.jsx)(le.a,{})}),Object(a.jsx)(ne.a,{primary:"Notes"})]}),Object(a.jsxs)(ee.a,{button:!0,onClick:function(){C.logout(),window.location.href="/#/"},children:[Object(a.jsx)(te.a,{children:Object(a.jsx)(be.a,{})}),Object(a.jsx)(ne.a,{primary:"Log Out"})]})]}),Oe=Object(a.jsxs)("div",{children:[Object(a.jsx)(ae.a,{inset:!0,children:"Admin panel"}),Object(a.jsxs)(ee.a,{button:!0,onClick:function(){window.location.href="/#/db/approve"},children:[Object(a.jsx)(te.a,{children:Object(a.jsx)(de.a,{})}),Object(a.jsx)(ne.a,{primary:"Approve keepers"})]})]}),xe=n(12),pe=n(566),me=n(570),ge=n(569),fe=n(568),ve=n(565),ye=n(567),Se=n(127),Ce=n.n(Se);function ke(e){return Object(a.jsx)(L.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var Ne=n(47),we=n(48),Te="http://localhost:8080/api",Ae=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getAll",value:function(){return h.a.get(Te+"/notes",{headers:O()})}},{key:"get",value:function(e){return h.a.get(Te+"/notes/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(Te+"/notes",e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(Te+"/notes/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(Te+"/notes/".concat(e),{headers:O()})}}]),e}()),De=n(524),Fe=Object(E.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),Ee=function(e){var t=Fe(),n=Object(c.useState)({_id:null,content:""}),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(!1),x=Object(l.a)(O,2),p=x[0],m=x[1];Object(c.useEffect)((function(){var t;e.noteid&&(t=e.noteid,Ae.get(t).then((function(e){s(e.data)})).catch((function(e){console.log(e)})))}),[e.noteid]);return Object(a.jsx)("div",{children:i?Object(a.jsxs)("div",{className:"edit-form",children:[b&&Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:p?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(a.jsx)("form",{children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)(De.a,{type:"text",className:"form-control",id:"content",name:"content",value:i.content,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,a)))}})})}),Object(a.jsx)("div",{className:t.button,children:Object(a.jsx)(J.a,{container:!0,spacing:2,justify:"center",children:Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Ae.update(i._id,i).then((function(e){console.log(e.data),h("The note was updated successfully!"),m(!0);for(var t=JSON.parse(localStorage.getItem("user")),n=0;n<t.notes.length;n++)if(t.notes[n]._id===i._id){t.notes[n].content=i.content;break}localStorage.setItem("user",JSON.stringify(t))})).catch((function(e){h("Failed to update note!"),m(!1),console.log(e)}))},children:"Update"})})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Note..."})]})})},He=Object(E.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),Ie=function(){var e=He(),t={content:"",user:C.getCurrentUser().id},n=Object(c.useState)(t),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(!1),x=Object(l.a)(O,2),p=x[0],m=x[1];return Object(a.jsx)("div",{children:i?Object(a.jsxs)("div",{className:"edit-form",children:[b&&Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:p?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(a.jsx)("form",{children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)(De.a,{type:"text",className:"form-control",id:"content",name:"content",value:i.content,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,a)))}})})}),Object(a.jsx)("div",{className:e.button,children:Object(a.jsx)(J.a,{container:!0,spacing:2,justify:"center",children:Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Ae.create(i).then((function(e){console.log(e.data),h("The note was created successfully!"),m(!0);var t=JSON.parse(localStorage.getItem("user"));t.notes.splice(t.notes.length,0,e.data),localStorage.setItem("user",JSON.stringify(t))})).catch((function(e){h("Failed to create note!"),m(!1),console.log(e)}))},children:"Create"})})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Note..."})]})})},Be=n(525),Pe=Object(E.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},button:{marginTop:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Ue=function(){var e=Pe(),t=Object(c.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(null),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(-1),h=Object(l.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(!1),m=Object(l.a)(p,2),g=m[0],f=m[1],v=Object(c.useState)(!1),y=Object(l.a)(v,2),S=y[0],k=y[1],N=Object(c.useState)(!1),w=Object(l.a)(N,2),T=w[0],A=w[1],D=function(){A(!1)};Object(c.useEffect)((function(){F()}),[]);var F=function(){var e=C.getCurrentUser();e&&e.notes&&s(e.notes)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(Be.a,{className:e.paper,children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(ke,{children:"Notes"}),Object(a.jsxs)(pe.a,{size:"small",children:[Object(a.jsx)(ye.a,{children:Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(ge.a,{children:"Note"}),Object(a.jsx)(ge.a,{align:"center",children:"Date"}),Object(a.jsx)(ge.a,{align:"right",children:"Actions"})]})}),i&&Object(a.jsx)(me.a,{children:i.map((function(e,t){return Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(ge.a,{children:e.content}),Object(a.jsxs)(ge.a,{align:"center",children:[new Date(e.createdAt).toLocaleDateString(),"   ",new Date(e.createdAt).toLocaleTimeString()]}),Object(a.jsxs)(ge.a,{align:"right",children:[Object(a.jsx)(K.a,{color:"primary",onClick:function(){return function(e){u(i[e]),f(!0)}(t)},children:Object(a.jsx)(Ce.a,{})}),Object(a.jsx)(K.a,{color:"primary",onClick:function(){return function(e){u(i[e]),x(e),A(!0)}(t)},children:Object(a.jsx)($.a,{})})]})]},t)}))})]}),Object(a.jsx)("div",{className:e.seeMore,children:Object(a.jsx)(K.a,{color:"primary",onClick:function(){k(!0)},children:"Create new..."})})]})})}),d&&Object(a.jsxs)(xe.a,{show:g,onHide:function(){f(!1),F()},centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Update note"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(Ee,{noteid:d._id})})]}),Object(a.jsxs)(xe.a,{show:S,onHide:function(){k(!1),F()},centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Create note"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(Ie,{})})]}),d&&Object(a.jsxs)(xe.a,{show:T,onHide:D,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Delete?"})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:e.button,children:Object(a.jsxs)(J.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:D,children:"Close"})}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){Ae.delete(d._id).then((function(){var e=JSON.parse(localStorage.getItem("user"));e.notes.splice(O,1),localStorage.setItem("user",JSON.stringify(e))})).catch((function(e){console.log(e)})),A(!1),setTimeout((function(){F()}),100)},children:"Delete"})})]})})})]})]})},_e=n(35),Le=n(69),Me=n(590),Re=n(574),qe=n(585),We=n(576),Je="http://localhost:8080/api/hive",Ke=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getAll",value:function(){return h.a.get(Je,{headers:O()})}},{key:"getAllOfKeeper",value:function(e){return h.a.get(Je+"?keeper=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(Je+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(Je,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(Je+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(Je+"/".concat(e),{headers:O()})}}]),e}()),ze="http://localhost:8080/api/data",Ve=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getAll",value:function(){return h.a.get(ze,{headers:O()})}},{key:"getAllOfHive",value:function(e){return h.a.get(ze+"?hive=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(ze+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(ze,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(ze+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(ze+"/".concat(e),{headers:O()})}}]),e}()),Ye=n(239),Ge=Object(E.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),Xe=function(){var e=Ge(),t={title:"",keeper:C.getCurrentUser().id},n=Object(c.useState)(t),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(!1),x=Object(l.a)(O,2),p=x[0],m=x[1];return Object(a.jsx)("div",{children:i?Object(a.jsxs)("div",{className:"edit-form",children:[b&&Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:p?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(a.jsx)("form",{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)(L.a,{component:"h1",variant:"h5",children:"Title"}),Object(a.jsx)(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Hives title",name:"title",autoFocus:!0,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,a)))}})]})}),Object(a.jsx)("div",{className:e.button,children:Object(a.jsx)(J.a,{container:!0,spacing:2,justify:"center",children:Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Ke.create(i).then((function(e){console.log(e.data),h("Hive was created successfully! ID="+e.data._id),m(!0)})).catch((function(e){h("Failed to create hive!"),m(!1),console.log(e)}))},children:"Create"})})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Hive..."})]})})},Qe=Object(E.a)((function(e){return{button:{marginTop:e.spacing(4)},depositContext:{flex:1}}})),Ze=function(e){var t=Qe(),n=Object(c.useState)({_id:null,title:""}),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(!1),x=Object(l.a)(O,2),p=x[0],m=x[1];Object(c.useEffect)((function(){var t;e.hiveid&&(t=e.hiveid,Ke.get(t).then((function(e){s(e.data)})).catch((function(e){console.log(e)})))}),[e.hiveid]);return Object(a.jsx)("div",{children:i?Object(a.jsxs)("div",{className:"edit-form",children:[b&&Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:p?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(a.jsx)("form",{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)(L.a,{component:"h1",variant:"h5",children:"Title"}),Object(a.jsx)(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Hives title",name:"title",autoFocus:!0,value:i.title,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,a)))}}),Object(a.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Hive ID: ",i._id]})]})}),Object(a.jsx)("div",{className:t.button,children:Object(a.jsx)(J.a,{container:!0,spacing:2,justify:"center",children:Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Ke.update(i._id,i).then((function(e){console.log(e.data),h("Hive was updated successfully!"),m(!0)})).catch((function(e){h("Failed to update hive!"),m(!1),console.log(e)}))},children:"Update"})})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Hive..."})]})})},$e=n(254),et=n.n($e),tt=Object(E.a)((function(e){return{depositContext:{flex:1},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:340},formControl:{margin:e.spacing(1),minWidth:120},allignRight:{display:"flex",justifyContent:"right"}}}));function nt(){var e=Object(_e.a)(),t=tt(),n=Object(F.a)(t.paper,t.fixedHeight),i=Object(c.useState)(void 0),s=Object(l.a)(i,2),o=s[0],j=s[1],d=Object(c.useState)(null),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(-1),x=Object(l.a)(O,2),p=x[0],m=x[1],g=Object(c.useState)(void 0),f=Object(l.a)(g,2),v=f[0],y=f[1],S=Object(c.useState)("temperature"),k=Object(l.a)(S,2),N=k[0],w=k[1],T=Object(c.useState)(!1),A=Object(l.a)(T,2),D=A[0],E=A[1],H=Object(c.useState)(!1),I=Object(l.a)(H,2),B=I[0],P=I[1],U=Object(c.useState)(!1),_=Object(l.a)(U,2),M=_[0],R=_[1],q=function(){R(!1)};Object(c.useEffect)((function(){W()}),[b]);var W=function(){var e=C.getCurrentUser();e&&Ke.getAllOfKeeper(e.id).then((function(e){j(e.data),e.data.length>0&&z()})).catch((function(e){console.log(e)}))},z=function(){b&&Ve.getAllOfHive(b._id).then((function(e){var t=e.data;t.forEach((function(e){e.createdAt=new Date(e.createdAt).toLocaleTimeString()})),y(t)})).catch((function(e){console.log(e)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{item:!0,xs:12,md:8,lg:9,children:Object(a.jsx)(Be.a,{className:n,children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(ke,{children:b?b.title+" "+N:"Choose a beehive"}),v&&v.length>0&&Object(a.jsx)(Le.d,{children:Object(a.jsxs)(Le.c,{data:v?v.slice(v.length-10,v.length):null,margin:{top:16,right:16,bottom:0,left:24},children:[Object(a.jsx)(Le.f,{dataKey:"createdAt",stroke:e.palette.text.secondary,interval:"preserveStartEnd"}),Object(a.jsx)(Le.g,{stroke:e.palette.text.secondary,children:Object(a.jsx)(Le.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:N})}),Object(a.jsx)(Le.e,{}),Object(a.jsx)(Le.b,{type:"monotone",dataKey:N,stroke:e.palette.primary.main,dot:!0})]})})]})})}),Object(a.jsx)(J.a,{item:!0,xs:12,md:4,lg:3,children:Object(a.jsx)(Be.a,{className:n,children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(ke,{children:"Current hive data"}),v&&v.length>0&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Temperature: ",v[v.length-1].temperature,"*C ",Object(a.jsx)("br",{}),"Humidity: ",v[v.length-1].humidity,"% ",Object(a.jsx)("br",{}),"Pressure: ",v[v.length-1].pressure,"kPa ",Object(a.jsx)("br",{}),"Weight: ",v[v.length-1].weight,"kg"]})}),!(v&&v.length>0)&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Temperature: --*C ",Object(a.jsx)("br",{}),"Humidity: --% ",Object(a.jsx)("br",{}),"Pressure: --kPa ",Object(a.jsx)("br",{}),"Weight: --kg"]})}),Object(a.jsxs)(Re.a,{className:t.formControl,children:[Object(a.jsx)(Me.a,{id:"demo-simple-select-label",children:"Selected Hive"}),Object(a.jsxs)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:-1===p?"":p,onChange:function(e){m(e.target.value),h(o[e.target.value]),z()},children:[Object(a.jsx)(We.a,{value:"",disabled:!0,children:Object(a.jsx)("em",{children:"None"})}),o&&o.map((function(e,t){return Object(a.jsx)(We.a,{value:t,children:e.title},t)}))]})]}),Object(a.jsxs)(Re.a,{className:t.formControl,children:[Object(a.jsx)(Me.a,{id:"demo-simple-select-label",children:"Measure to graph"}),Object(a.jsxs)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:N,onChange:function(e){w(e.target.value)},children:[Object(a.jsx)(We.a,{value:"temperature",children:"Temperature"}),Object(a.jsx)(We.a,{value:"humidity",children:"Humidity"}),Object(a.jsx)(We.a,{value:"pressure",children:"Pressure"}),Object(a.jsx)(We.a,{value:"weight",children:"Weight"})]})]}),Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(a.jsx)(K.a,{color:"primary",onClick:function(){P(!0)},children:Object(a.jsx)(et.a,{})}),b&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(K.a,{color:"primary",style:{marginLeft:"auto",alignItems:"center"},onClick:function(){E(!0)},children:Object(a.jsx)(Ce.a,{})}),Object(a.jsx)(K.a,{color:"primary",style:{marginLeft:"auto",alignItems:"center"},onClick:function(){R(!0)},children:Object(a.jsx)($.a,{})})]})]})]})})}),b&&Object(a.jsxs)(xe.a,{show:D,onHide:function(){E(!1),W()},centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Update hive"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(Ze,{hiveid:b._id})})]}),Object(a.jsxs)(xe.a,{show:B,onHide:function(){P(!1),W()},centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Add a new hive"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(Xe,{})})]}),b&&Object(a.jsxs)(xe.a,{show:M,onHide:q,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Delete?"})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:t.button,children:Object(a.jsxs)(J.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:q,children:"Close"})}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){Ke.delete(b._id).then((function(){})).catch((function(e){console.log(e)})),R(!1),setTimeout((function(){W()}),100)},children:"Delete"})})]})})})]})]})}var at=Object(E.a)((function(e){return{depositContext:{flex:1},seeMore:{marginTop:e.spacing(3)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}}));function ct(){var e=at(),t=Object(c.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){s(C.getCurrentUser())};return Object(a.jsx)(J.a,{item:!0,xs:12,md:4,lg:3,children:Object(a.jsx)(Be.a,{className:e.paper,children:Object(a.jsx)(r.a.Fragment,{children:i&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(ke,{children:[i.username," profile"]}),Object(a.jsx)(L.a,{component:"p",variant:"h5",children:"ID:"}),Object(a.jsx)("ul",{children:Object(a.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:Object(a.jsx)("li",{children:i.id})})}),Object(a.jsx)(L.a,{component:"p",variant:"h5",children:"E-Mail:"}),Object(a.jsx)("ul",{children:Object(a.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:Object(a.jsx)("li",{children:i.email})})}),Object(a.jsx)(L.a,{component:"p",variant:"h5",children:"Authorities:"}),Object(a.jsx)("ul",{children:Object(a.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:i.roles&&i.roles.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))})})]})})})})}var rt="http://localhost:8080/api/test/",it=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getPublicContent",value:function(){return h.a.get(rt+"all")}},{key:"getUserBoard",value:function(){return h.a.get(rt+"user",{headers:O()})}},{key:"getKeeperBoard",value:function(){return h.a.get(rt+"keeper",{headers:O()})}},{key:"getAdminBoard",value:function(){return h.a.get(rt+"admin",{headers:O()})}},{key:"getAllUsers",value:function(){return h.a.get("http://localhost:8080/api/users",{headers:O()})}},{key:"setKeeperRole",value:function(e){return h.a.put("http://localhost:8080/api/users/setkeeper/".concat(e),null,{headers:O()})}},{key:"deleteUser",value:function(e){return h.a.delete("http://localhost:8080/api/users/".concat(e),{headers:O()})}}]),e}()),st=Object(E.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},button:{marginTop:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),ot=function(){var e=st(),t=Object(c.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(null),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(!1),h=Object(l.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(!1),m=Object(l.a)(p,2),g=m[0],f=m[1],v=Object(c.useState)(""),y=Object(l.a)(v,2),S=y[0],k=y[1],N=Object(c.useState)(!1),w=Object(l.a)(N,2),A=w[0],F=w[1],E=function(){x(!1),I()},H=function(){f(!1)};function I(){return P.apply(this,arguments)}function P(){return(P=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.getCurrentUser()){e.next=4;break}return e.next=4,it.getAllUsers().then((function(e){s(e.data)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){I()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{item:!0,xs:12,md:4,lg:3,children:Object(a.jsx)(Be.a,{className:e.paper,children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(ke,{children:"Approve registered users"}),Object(a.jsxs)(pe.a,{size:"small",children:[Object(a.jsx)(ye.a,{children:Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(ge.a,{children:"Username"}),Object(a.jsx)(ge.a,{align:"right",children:"Actions"})]})}),i&&Object(a.jsx)(me.a,{children:i.map((function(e,t){return Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(ge.a,{children:e.username}),Object(a.jsxs)(ge.a,{align:"right",children:[Object(a.jsx)(K.a,{color:"primary",onClick:function(){return function(e){u(i[e]),F(!1),k(""),x(!0)}(t)},children:Object(a.jsx)(de.a,{})}),Object(a.jsx)(K.a,{color:"primary",onClick:function(){return function(e){u(i[e]),F(!1),k(""),f(!0)}(t)},children:Object(a.jsx)($.a,{})})]})]},t)}))})]})]})})}),d&&Object(a.jsxs)(xe.a,{show:O,onHide:E,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsxs)(xe.a.Title,{children:["Approve user ",d.username,"?"]})}),S&&Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:A?"alert alert-success":"alert alert-danger",role:"alert",children:S})})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:e.button,children:Object(a.jsxs)(J.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:E,children:"Close"})}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){it.setKeeperRole(d._id).then((function(e){k(e.data.message),F(!0)})).catch((function(e){console.log(e),console.log(e.message),F(!1)}))},children:"Approve"})})]})})})]}),d&&Object(a.jsxs)(xe.a,{show:g,onHide:H,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsxs)(xe.a.Title,{children:["Delete ",d.username,"?"]})}),S&&Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:A?"alert alert-success":"alert alert-danger",role:"alert",children:S})})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:e.button,children:Object(a.jsxs)(J.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:H,children:"Close"})}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){it.deleteUser(d._id).then((function(e){k(e.data.message),F(!0)})).catch((function(e){console.log(e),F(!1)})),f(!1),setTimeout((function(){I()}),100)},children:"Delete"})})]})})})]})]})},lt="http://localhost:8080/api/notifications",jt=new(function(){function e(){Object(Ne.a)(this,e)}return Object(we.a)(e,[{key:"getAll",value:function(){return h.a.get(lt,{headers:O()})}},{key:"getAllOfHive",value:function(e){return h.a.get(lt+"?hive=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(lt+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(lt,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(lt+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(lt+"/".concat(e),{headers:O()})}}]),e}());function dt(){return Object(a.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var ut=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function bt(){var e=ut(),t=Object(c.useState)(void 0),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),j=o[0],d=o[1],u=Object(c.useState)(!1),b=Object(l.a)(u,2),h=b[0],O=b[1],x=function(){d(!1),p()};function p(){return m.apply(this,arguments)}function m(){return(m=Object(D.a)(T.a.mark((function e(){var t,n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=C.getCurrentUser())){e.next=11;break}return n=[],e.next=5,Ke.getAllOfKeeper(t.id).then((function(e){n=e.data})).catch((function(e){console.log(e)}));case 5:return a=[],e.next=8,Promise.all(n.map(function(){var e=Object(D.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.getAllOfHive(t._id).then((function(e){var t,n=Object(A.a)(e.data);try{for(n.s();!(t=n.n()).done;){var c=t.value;a.splice(a.length,0,c)}}catch(r){n.e(r)}finally{n.f()}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:i(a),n=null,a=null;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){p()}),[]),Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(H.a,{}),Object(a.jsx)(P.a,{position:"absolute",className:Object(F.a)(e.appBar,h&&e.appBarShift),children:Object(a.jsxs)(U.a,{className:e.toolbar,children:[Object(a.jsx)(R.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){O(!0)},className:Object(F.a)(e.menuButton,h&&e.menuButtonHidden),children:Object(a.jsx)(V.a,{})}),Object(a.jsx)(L.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Dashboard"}),Object(a.jsx)(R.a,{color:"inherit",onClick:function(){d(!0),p()},children:Object(a.jsx)(q.a,{badgeContent:r?r.length:"",color:"secondary",children:Object(a.jsx)(Q.a,{})})})]})}),Object(a.jsxs)(I.a,{variant:"permanent",classes:{paper:Object(F.a)(e.drawerPaper,!h&&e.drawerPaperClose)},open:h,children:[Object(a.jsx)("div",{className:e.toolbarIcon,children:Object(a.jsx)(R.a,{onClick:function(){O(!1)},children:Object(a.jsx)(G.a,{})})}),Object(a.jsx)(M.a,{}),Object(a.jsx)(_.a,{children:he}),C.getCurrentUser().roles.includes("ROLE_ADMIN")&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M.a,{}),Object(a.jsx)(_.a,{children:Oe})]})]}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.appBarSpacer}),Object(a.jsxs)(W.a,{maxWidth:"lg",className:e.container,children:[Object(a.jsxs)(J.a,{container:!0,spacing:3,justify:"center",children:[Object(a.jsx)(N,{path:"/db/notes",component:Ue}),Object(a.jsx)(N,{path:"/db/hives",component:nt}),Object(a.jsx)(N,{path:"/db/profile",component:ct}),Object(a.jsx)(N,{path:"/db/approve",component:ot})]}),Object(a.jsx)(B.a,{pt:4,children:Object(a.jsx)(dt,{})})]})]}),Object(a.jsxs)(xe.a,{show:j,onHide:x,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Notifications"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(pe.a,{size:"small",children:r&&Object(a.jsx)(me.a,{children:r.map((function(e,t){return Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(ge.a,{children:e.level}),Object(a.jsx)(ge.a,{children:e.content}),Object(a.jsxs)(ge.a,{align:"center",children:[new Date(e.createdAt).toLocaleDateString(),"   ",new Date(e.createdAt).toLocaleTimeString()]}),Object(a.jsx)(ge.a,{align:"right",children:Object(a.jsx)(K.a,{color:"primary",onClick:function(){return function(e){jt.delete(r[e]._id),p()}(t)},children:Object(a.jsx)($.a,{})})})]},t)}))})})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:e.button,children:Object(a.jsxs)(J.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:x,children:"Close"})}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){r.forEach((function(e){jt.delete(e._id)})),d(!1),p()},children:"Clear all"})})]})})})]})]})}var ht=n(589),Ot=n(131),xt=n.n(Ot),pt=n(57);function mt(){return Object(a.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var gt=Object(E.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(http://source.unsplash.com/collection/8626361)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ft=function(e){var t=gt(),n=Object(c.useState)(""),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(!1),h=Object(l.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(""),m=Object(l.a)(p,2),g=m[0],f=m[1];return Object(a.jsxs)(J.a,{container:!0,component:"main",className:t.root,children:[Object(a.jsx)(H.a,{}),Object(a.jsx)(J.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(a.jsx)(J.a,{item:!0,xs:12,sm:8,md:5,component:Be.a,elevation:6,square:!0,children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(ht.a,{className:t.avatar,children:Object(a.jsx)(xt.a,{})}),Object(a.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)(pt.ValidatorForm,{className:t.form,onSubmit:function(t){t.preventDefault(),f(""),x(!0),C.login(i,d).then((function(){e.history.push("/#"),window.location.reload()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();x(!1),f(t)})),x(!1)},onError:function(e){return console.log(e)},children:[g&&Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})}),Object(a.jsx)(pt.TextValidator,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"username",autoFocus:!0,value:i,onChange:function(e){var t=e.target.value;s(t)},validators:["required"],errorMessages:["this field is required"]}),Object(a.jsx)(pt.TextValidator,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){var t=e.target.value;u(t)},validators:["required"],errorMessages:["this field is required"]}),Object(a.jsx)(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:O,children:"Sign In"}),Object(a.jsx)(J.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(K.a,{href:"/#/register",variant:"body2",children:"Don't have an account? Sign Up"})})}),Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)(mt,{})})]})]})})]})};function vt(){return Object(a.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var yt=Object(E.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(http://source.unsplash.com/collection/8626361)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),St=function(e){var t=yt(),n=Object(c.useState)(""),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(""),h=Object(l.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(!1),m=Object(l.a)(p,2),g=m[0],f=m[1],v=Object(c.useState)(""),y=Object(l.a)(v,2),S=y[0],k=y[1];return Object(a.jsxs)(J.a,{container:!0,component:"main",className:t.root,children:[Object(a.jsx)(H.a,{}),Object(a.jsx)(J.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(a.jsx)(J.a,{item:!0,xs:12,sm:8,md:5,component:Be.a,elevation:6,square:!0,children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(ht.a,{className:t.avatar,children:Object(a.jsx)(xt.a,{})}),Object(a.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)(pt.ValidatorForm,{className:t.form,onSubmit:function(e){e.preventDefault(),k(""),f(!1),C.register(i,d,O).then((function(e){k(e.data.message+" You will be able to use website when administrator approves you as a keeper."),f(!0)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();k(t),f(!1)}))},onError:function(e){return console.log(e)},children:[S&&Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)("div",{className:g?"alert alert-success":"alert alert-danger",role:"alert",children:S})}),!g&&Object(a.jsxs)(B.a,{mt:5,children:[Object(a.jsxs)(J.a,{container:!0,spacing:2,children:[Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(pt.TextValidator,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",value:i,onChange:function(e){var t=e.target.value;s(t)},autoFocus:!0,validators:["required","minStringLength:3","maxStringLength:20"],errorMessages:["this field is required","The username must be between 3 and 20 characters.","The username must be between 3 and 20 characters."]})}),Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(pt.TextValidator,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:d,onChange:function(e){var t=e.target.value;u(t)},validators:["required","isEmail"],errorMessages:["this field is required","This is not valid email."]})}),Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(pt.TextValidator,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:function(e){var t=e.target.value;x(t)},validators:["required","minStringLength:6","maxStringLength:40"],errorMessages:["this field is required","The password must be between 6 and 40 characters.","The password must be between 6 and 40 characters."]})})]}),Object(a.jsx)(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(a.jsx)(J.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(K.a,{href:"/#/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)(vt,{})})]})})]})},Ct=n(259),kt=n.n(Ct);function Nt(){return Object(a.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var wt=Object(E.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column",minHeight:"100vh"},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{padding:e.spacing(3,2),marginTop:"auto",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]}}})),Tt=function(e){var t=wt(),n=Object(c.useState)(!1),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(void 0),h=Object(l.a)(b,2),O=h[0],x=h[1];Object(c.useEffect)((function(){var e=C.getCurrentUser();e&&(x(e),s(e.roles.includes("ROLE_KEEPER")),u(e.roles.includes("ROLE_ADMIN")))}),[]);var p=function(){C.logout(),window.location.reload()};return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(H.a,{}),Object(a.jsx)(P.a,{position:"relative",children:Object(a.jsxs)(U.a,{children:[Object(a.jsx)(kt.a,{className:t.icon}),Object(a.jsx)(L.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Hive Manager"})]})}),Object(a.jsx)("main",{children:Object(a.jsx)("div",{className:t.heroContent,children:Object(a.jsxs)(W.a,{maxWidth:"md",children:[Object(a.jsx)(L.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Welcome to HiveManager"}),Object(a.jsx)(L.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Tool to make you manage your beehives with ease."}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:t.heroButtons,children:[!O&&Object(a.jsxs)(J.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){return e.history.push("/login")},children:"Sign In"})}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:function(){return e.history.push("/register")},children:"Sign Up"})})]}),O&&(i||d)&&Object(a.jsxs)(J.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){return e.history.push("/db/hives")},children:"DashBoard"})}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:p,children:"Log Out"})})]}),O&&!(i||d)&&Object(a.jsxs)(J.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(L.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"You will be able to use website when administrator approves you as a keeper."})}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"primary",onClick:p,children:"Log Out"})})]})]})]})})}),Object(a.jsx)("footer",{className:t.footer,children:Object(a.jsx)(W.a,{maxWidth:"sm",children:Object(a.jsx)(Nt,{})})})]})},At=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],u=Object(c.useState)(void 0),b=Object(l.a)(u,2),h=b[0],O=b[1];Object(c.useEffect)((function(){var e=C.getCurrentUser();e&&(O(e),r(e.roles.includes("ROLE_KEEPER")),d(e.roles.includes("ROLE_ADMIN")))}),[]);return Object(a.jsx)("div",{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/login",component:ft}),Object(a.jsx)(j.b,{exact:!0,path:"/register",component:St}),Object(a.jsx)(j.b,{exact:!0,path:["/","/h"],component:Tt}),Object(a.jsx)(N,{path:"/db",component:bt,appProps:{currentUser:h,showAdminBoard:o,showKeeperBoard:n}}),(o||n)&&Object(a.jsx)(j.b,{path:"/db",component:bt}),Object(a.jsx)(j.b,{exact:!0,path:"/tutorials",component:v}),Object(a.jsx)(j.b,{exact:!0,path:"/add",component:m}),Object(a.jsx)(j.b,{path:"/tutorials/:id",component:g})]})})};s.a.render(Object(a.jsx)(o.a,{children:Object(a.jsx)(At,{})}),document.getElementById("root"))}},[[522,1,2]]]);
//# sourceMappingURL=main.bc4dbd3b.chunk.js.map