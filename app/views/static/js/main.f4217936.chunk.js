(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{316:function(e,t,n){},524:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),r=n.n(c),i=n(16),s=n.n(i),o=n(86),l=n(7),j=n(24),d=(n(315),n(316),n(29)),u=n(17),b=n(13),h=n.n(b);function O(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var p=h.a.create({baseURL:"/api",headers:Object(u.a)(Object(u.a)({},{"Content-type":"application/json"}),O())}),x={getAll:function(e){return p.get("/tutorials",{params:e})},get:function(e){return p.get("/tutorials/".concat(e))},create:function(e){return p.post("/tutorials",e)},update:function(e,t){return p.put("/tutorials/".concat(e),t)},remove:function(e){return p.delete("/tutorials/".concat(e))},removeAll:function(){return p.delete("/tutorials")}},m=function(){var e={id:null,title:"",description:"",published:!1},t=Object(c.useState)(e),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),j=o[0],b=o[1],h=function(e){var t=e.target,n=t.name,a=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,a)))};return Object(a.jsx)("div",{className:"submit-form",children:j?Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"You submitted successfully!"}),Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){i(e),b(!1)},children:"Add"})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:r.title,onChange:h,name:"title"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:r.description,onChange:h,name:"description"})]}),Object(a.jsx)("button",{onClick:function(){var e={title:r.title,description:r.description};x.create(e).then((function(e){i({id:e.data.id,title:e.data.title,description:e.data.description,published:e.data.published}),b(!0),console.log(e.data)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Submit"})]})})},g=function(e){var t=Object(c.useState)({id:null,title:"",description:"",published:!1}),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(""),o=Object(l.a)(s,2),j=o[0],b=o[1];Object(c.useEffect)((function(){var t;t=e.match.params.id,x.get(t).then((function(e){i(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var h=function(e){var t=e.target,n=t.name,a=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,a)))},O=function(e){var t={id:r.id,title:r.title,description:r.description,published:e};x.update(r.id,t).then((function(t){i(Object(u.a)(Object(u.a)({},r),{},{published:e})),console.log(t.data)})).catch((function(e){console.log(e)}))};return Object(a.jsx)("div",{children:r?Object(a.jsxs)("div",{className:"edit-form",children:[Object(a.jsx)("h4",{children:"Tutorial"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:r.title,onChange:h})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:r.description,onChange:h})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Status:"})}),r.published?"Published":"Pending"]})]}),r.published?Object(a.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!1)},children:"UnPublish"}):Object(a.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return O(!0)},children:"Publish"}),Object(a.jsx)("button",{className:"badge badge-danger mr-2",onClick:function(){x.remove(r.id).then((function(t){console.log(t.data),e.history.push("/tutorials")})).catch((function(e){console.log(e)}))},children:"Delete"}),Object(a.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){x.update(r.id,r).then((function(e){console.log(e.data),b("The tutorial was updated successfully!")})).catch((function(e){console.log(e)}))},children:"Update"}),Object(a.jsx)("p",{children:j})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Tutorial..."})]})})},f=n(591),v=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),s=Object(l.a)(i,2),j=s[0],d=s[1],u=Object(c.useState)(-1),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(c.useState)(""),m=Object(l.a)(p,2),g=m[0],v=m[1],y=Object(c.useState)(1),k=Object(l.a)(y,2),S=k[0],C=k[1],N=Object(c.useState)(0),w=Object(l.a)(N,2),T=w[0],A=w[1],D=Object(c.useState)(3),F=Object(l.a)(D,2),H=F[0],I=F[1];Object(c.useEffect)((function(){E()}),[S,H]);var E=function(){var e=function(e,t,n){var a={};return e&&(a.title=e),t&&(a.page=t-1),n&&(a.size=n),a}(g,S,H);x.getAll(e).then((function(e){var t=e.data,n=t.tutorials,a=t.totalPages;r(n),A(a),console.log(e.data)})).catch((function(e){console.log(e)}))};return Object(a.jsxs)("div",{className:"list row",children:[Object(a.jsx)("div",{className:"col-md-8",children:Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:g,onChange:function(e){var t=e.target.value;v(t)}}),Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:E,children:"Search"})})]})}),Object(a.jsxs)("div",{className:"col-md-6",children:[Object(a.jsx)("h4",{children:"Tutorials List"}),Object(a.jsxs)("div",{className:"mt-3",children:["Items per Page: ",Object(a.jsx)("select",{onChange:function(e){I(e.target.value),C(1)},value:H,children:[3,6,9].map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))}),Object(a.jsx)(f.a,{className:"my-3",count:T,page:S,siblingCount:1,boundaryCount:1,variant:"outlined",shape:"rounded",onChange:function(e,t){C(t)}})]}),Object(a.jsx)("ul",{className:"list-group",children:n&&n.map((function(e,t){return Object(a.jsx)("li",{className:"list-group-item "+(t===h?"active":""),onClick:function(){return function(e,t){d(e),O(t)}(e,t)},children:e.title},t)}))}),Object(a.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){x.removeAll().then((function(e){console.log(e.data),E(),d(null),O(-1)})).catch((function(e){console.log(e)}))},children:"Remove All"})]}),Object(a.jsx)("div",{className:"col-md-6",children:j?Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Tutorial"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Title:"})})," ",j.title]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Description:"})})," ",j.description]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Status:"})})," ",j.published?"Published":"Pending"]}),Object(a.jsx)(o.b,{to:"/tutorials/"+j._id,className:"badge badge-warning",children:"Edit"})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})},y="/api/auth/",k=function(){return JSON.parse(localStorage.getItem("user"))},S={login:function(e,t){return h.a.post(y+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("user")},register:function(e,t,n){return h.a.post(y+"signup",{username:e,email:t,password:n})},getCurrentUser:k,isAdmin:function(){return!!k()&&k().roles.includes("ROLE_ADMIN")},isKeeper:function(){return!!k()&&k().roles.includes("ROLE_KEEPER")}},C=n(262);function N(e){var t=e.component,n=e.appProps,c=Object(C.a)(e,["component","appProps"]);return Object(a.jsx)(j.b,Object(u.a)(Object(u.a)({},c),{},{render:function(e){return S.getCurrentUser()&&(S.getCurrentUser().roles.includes("ROLE_KEEPER")||S.getCurrentUser().roles.includes("ROLE_ADMIN"))?Object(a.jsx)(t,Object(u.a)(Object(u.a)({},e),n)):Object(a.jsx)(j.a,{to:"/"})}}))}var w=n(69),T=n.n(w),A=n(243),D=n(104),F=n(5),H=n(568),I=n(26),E=n(582),P=n(594),B=n(589),U=n(583),M=n(584),_=n(580),L=n(108),R=n(587),q=n(585),W=n(586),J=n(588),K=n(569),z=n(576),V=n(172),Y=n.n(V),G=n(173),X=n.n(G),Q=n(258),Z=n.n(Q),$=n(66),ee=n.n($),te=n(525),ne=n(565),ae=n(566),ce=n(567),re=n(244),ie=n.n(re),se=n(245),oe=n.n(se),le=n(246),je=n.n(le),de=n(126),ue=n.n(de),be=n(247),he=n.n(be),Oe=Object(a.jsxs)("div",{children:[Object(a.jsxs)(te.a,{button:!0,onClick:function(){window.location.href="/#/db/hives"},children:[Object(a.jsx)(ne.a,{children:Object(a.jsx)(ie.a,{})}),Object(a.jsx)(ae.a,{primary:"Hives"})]}),Object(a.jsxs)(te.a,{button:!0,onClick:function(){window.location.href="/#/db/profile"},children:[Object(a.jsx)(ne.a,{children:Object(a.jsx)(oe.a,{})}),Object(a.jsx)(ae.a,{primary:"Profile"})]}),Object(a.jsxs)(te.a,{button:!0,onClick:function(){window.location.href="/#/db/notes"},children:[Object(a.jsx)(ne.a,{children:Object(a.jsx)(je.a,{})}),Object(a.jsx)(ae.a,{primary:"Notes"})]}),Object(a.jsxs)(te.a,{button:!0,onClick:function(){S.logout(),window.location.href="/#/"},children:[Object(a.jsx)(ne.a,{children:Object(a.jsx)(he.a,{})}),Object(a.jsx)(ae.a,{primary:"Log Out"})]})]}),pe=Object(a.jsxs)("div",{children:[Object(a.jsx)(ce.a,{inset:!0,children:"Admin panel"}),Object(a.jsxs)(te.a,{button:!0,onClick:function(){window.location.href="/#/db/approve"},children:[Object(a.jsx)(ne.a,{children:Object(a.jsx)(ue.a,{})}),Object(a.jsx)(ae.a,{primary:"Approve keepers"})]})]}),xe=n(12),me=n(571),ge=n(575),fe=n(574),ve=n(573),ye=n(570),ke=n(593),Se=n(572),Ce=n(128),Ne=n.n(Ce);function we(e){return Object(a.jsx)(L.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var Te=n(48),Ae=n(49),De="/api",Fe=new(function(){function e(){Object(Te.a)(this,e)}return Object(Ae.a)(e,[{key:"getAll",value:function(){return h.a.get("/api/notes",{headers:O()})}},{key:"get",value:function(e){return h.a.get(De+"/notes/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post("/api/notes",e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(De+"/notes/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(De+"/notes/".concat(e),{headers:O()})}}]),e}()),He=n(526),Ie=Object(H.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),Ee=function(e){var t=Ie(),n=Object(c.useState)({_id:null,content:""}),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(!1),p=Object(l.a)(O,2),x=p[0],m=p[1];Object(c.useEffect)((function(){var t;e.noteid&&(t=e.noteid,Fe.get(t).then((function(e){s(e.data)})).catch((function(e){console.log(e)})))}),[e.noteid]);return Object(a.jsx)("div",{children:i?Object(a.jsxs)("div",{className:"edit-form",children:[b&&Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:x?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(a.jsx)("form",{children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)(He.a,{type:"text",className:"form-control",id:"content",name:"content",value:i.content,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,a)))}})})}),Object(a.jsx)("div",{className:t.button,children:Object(a.jsx)(K.a,{container:!0,spacing:2,justify:"center",children:Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Fe.update(i._id,i).then((function(e){console.log(e.data),h("The note was updated successfully!"),m(!0);for(var t=JSON.parse(localStorage.getItem("user")),n=0;n<t.notes.length;n++)if(t.notes[n]._id===i._id){t.notes[n].content=i.content;break}localStorage.setItem("user",JSON.stringify(t))})).catch((function(e){h("Failed to update note!"),m(!1),console.log(e)}))},children:"Update"})})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Note..."})]})})},Pe=Object(H.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),Be=function(){var e=Pe(),t={content:"",user:S.getCurrentUser().id},n=Object(c.useState)(t),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(!1),p=Object(l.a)(O,2),x=p[0],m=p[1];return Object(a.jsx)("div",{children:i?Object(a.jsxs)("div",{className:"edit-form",children:[b&&Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:x?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(a.jsx)("form",{children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)(He.a,{type:"text",className:"form-control",id:"content",name:"content",value:i.content,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,a)))}})})}),Object(a.jsx)("div",{className:e.button,children:Object(a.jsx)(K.a,{container:!0,spacing:2,justify:"center",children:Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){Fe.create(i).then((function(e){console.log(e.data),h("The note was created successfully!"),m(!0);var t=JSON.parse(localStorage.getItem("user"));t.notes.splice(t.notes.length,0,e.data),localStorage.setItem("user",JSON.stringify(t))})).catch((function(e){h("Failed to create note!"),m(!1),console.log(e)}))},children:"Create"})})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Note..."})]})})},Ue=n(527),Me=Object(H.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},button:{marginTop:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),_e=function(){var e=Me(),t=Object(c.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(null),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(-1),h=Object(l.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)(!1),m=Object(l.a)(x,2),g=m[0],f=m[1],v=Object(c.useState)(!1),y=Object(l.a)(v,2),k=y[0],C=y[1],N=Object(c.useState)(!1),w=Object(l.a)(N,2),T=w[0],A=w[1],D=function(){A(!1)};Object(c.useEffect)((function(){F()}),[]);var F=function(){var e=S.getCurrentUser();e&&e.notes&&s(e.notes)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(K.a,{item:!0,xs:12,children:Object(a.jsx)(Ue.a,{className:e.paper,children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(we,{children:"Notes"}),Object(a.jsxs)(me.a,{size:"small",children:[Object(a.jsx)(Se.a,{children:Object(a.jsxs)(ve.a,{children:[Object(a.jsx)(fe.a,{children:"Note"}),Object(a.jsx)(fe.a,{align:"center",children:"Date"}),Object(a.jsx)(fe.a,{align:"right",children:"Actions"})]})}),i&&Object(a.jsx)(ge.a,{children:i.map((function(e,t){return Object(a.jsxs)(ve.a,{children:[Object(a.jsx)(fe.a,{children:e.content}),Object(a.jsxs)(fe.a,{align:"center",children:[new Date(e.createdAt).toLocaleDateString(),"   ",new Date(e.createdAt).toLocaleTimeString()]}),Object(a.jsxs)(fe.a,{align:"right",children:[Object(a.jsx)(z.a,{color:"primary",onClick:function(){return function(e){u(i[e]),f(!0)}(t)},children:Object(a.jsx)(Ne.a,{})}),Object(a.jsx)(z.a,{color:"primary",onClick:function(){return function(e){u(i[e]),p(e),A(!0)}(t)},children:Object(a.jsx)(ee.a,{})})]})]},t)}))})]}),Object(a.jsx)("div",{className:e.seeMore,children:Object(a.jsx)(z.a,{color:"primary",onClick:function(){C(!0)},children:"Create new..."})})]})})}),d&&Object(a.jsxs)(xe.a,{show:g,onHide:function(){f(!1),F()},centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Update note"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(Ee,{noteid:d._id})})]}),Object(a.jsxs)(xe.a,{show:k,onHide:function(){C(!1),F()},centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Create note"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(Be,{})})]}),d&&Object(a.jsxs)(xe.a,{show:T,onHide:D,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Delete?"})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:e.button,children:Object(a.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:D,children:"Close"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){Fe.delete(d._id).then((function(){var e=JSON.parse(localStorage.getItem("user"));e.notes.splice(O,1),localStorage.setItem("user",JSON.stringify(e))})).catch((function(e){console.log(e)})),A(!1),setTimeout((function(){F()}),100)},children:"Delete"})})]})})})]})]})},Le=n(71),Re=n(596),qe=n(579),We=n(590),Je=n(581),Ke="/api/hive",ze=new(function(){function e(){Object(Te.a)(this,e)}return Object(Ae.a)(e,[{key:"getAll",value:function(){return h.a.get(Ke,{headers:O()})}},{key:"getAllOfKeeper",value:function(e){return h.a.get(Ke+"?keeper=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(Ke+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(Ke,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(Ke+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(Ke+"/".concat(e),{headers:O()})}}]),e}()),Ve="/api/data",Ye=new(function(){function e(){Object(Te.a)(this,e)}return Object(Ae.a)(e,[{key:"getAll",value:function(){return h.a.get(Ve,{headers:O()})}},{key:"getAllOfHive",value:function(e){return h.a.get(Ve+"?hive=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(Ve+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(Ve,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(Ve+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(Ve+"/".concat(e),{headers:O()})}}]),e}()),Ge=n(242),Xe=Object(H.a)((function(e){return{button:{marginTop:e.spacing(4)}}})),Qe=function(){var e=Xe(),t={title:"",keeper:S.getCurrentUser().id},n=Object(c.useState)(t),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(!1),p=Object(l.a)(O,2),x=p[0],m=p[1];return Object(a.jsx)("div",{children:i?Object(a.jsxs)("div",{className:"edit-form",children:[b&&Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:x?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(a.jsx)("form",{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)(L.a,{component:"h1",variant:"h5",children:"Title"}),Object(a.jsx)(Ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Hives title",name:"title",autoFocus:!0,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,a)))}})]})}),Object(a.jsx)("div",{className:e.button,children:Object(a.jsx)(K.a,{container:!0,spacing:2,justify:"center",children:Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){ze.create(i).then((function(e){console.log(e.data),h("Hive was created successfully! ID="+e.data._id),m(!0)})).catch((function(e){h("Failed to create hive!"),m(!1),console.log(e)}))},children:"Create"})})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Hive..."})]})})},Ze=Object(H.a)((function(e){return{button:{marginTop:e.spacing(4)},depositContext:{flex:1}}})),$e=function(e){var t=Ze(),n=Object(c.useState)({_id:null,title:""}),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(!1),p=Object(l.a)(O,2),x=p[0],m=p[1];Object(c.useEffect)((function(){var t;e.hiveid&&(t=e.hiveid,ze.get(t).then((function(e){s(e.data)})).catch((function(e){console.log(e)})))}),[e.hiveid]);return Object(a.jsx)("div",{children:i?Object(a.jsxs)("div",{className:"edit-form",children:[b&&Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:x?"alert alert-success":"alert alert-danger",role:"alert",children:b})}),Object(a.jsx)("form",{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)(L.a,{component:"h1",variant:"h5",children:"Title"}),Object(a.jsx)(Ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Hives title",name:"title",autoFocus:!0,value:i.title,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},n,a)))}}),Object(a.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Hive ID: ",i._id]})]})}),Object(a.jsx)("div",{className:t.button,children:Object(a.jsx)(K.a,{container:!0,spacing:2,justify:"center",children:Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){ze.update(i._id,i).then((function(e){console.log(e.data),h("Hive was updated successfully!"),m(!0)})).catch((function(e){h("Failed to update hive!"),m(!1),console.log(e)}))},children:"Update"})})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Hive..."})]})})},et=n(257),tt=n.n(et),nt=Object(H.a)((function(e){return{depositContext:{flex:1},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:340},formControl:{margin:e.spacing(1),minWidth:120},allignRight:{display:"flex",justifyContent:"right"}}}));function at(){var e=Object(I.a)(),t=nt(),n=Object(F.a)(t.paper,t.fixedHeight),i=Object(c.useState)(void 0),s=Object(l.a)(i,2),o=s[0],j=s[1],d=Object(c.useState)(null),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(-1),p=Object(l.a)(O,2),x=p[0],m=p[1],g=Object(c.useState)(void 0),f=Object(l.a)(g,2),v=f[0],y=f[1],k=Object(c.useState)("temperature"),C=Object(l.a)(k,2),N=C[0],w=C[1],T=Object(c.useState)(!1),A=Object(l.a)(T,2),D=A[0],H=A[1],E=Object(c.useState)(!1),P=Object(l.a)(E,2),B=P[0],U=P[1],M=Object(c.useState)(!1),_=Object(l.a)(M,2),R=_[0],q=_[1],W=function(){q(!1)};Object(c.useEffect)((function(){J()}),[b]);var J=function(){var e=S.getCurrentUser();e&&ze.getAllOfKeeper(e.id).then((function(e){j(e.data),e.data.length>0&&V()})).catch((function(e){console.log(e)}))},V=function(){b&&Ye.getAllOfHive(b._id).then((function(e){var t=e.data;t.forEach((function(e){e.createdAt=new Date(e.createdAt).toLocaleTimeString()})),y(t)})).catch((function(e){console.log(e)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(K.a,{item:!0,xs:12,md:8,lg:9,children:Object(a.jsx)(Ue.a,{className:n,children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(we,{children:b?b.title+" "+N:"Choose a beehive"}),v&&v.length>0&&Object(a.jsx)(Le.d,{children:Object(a.jsxs)(Le.c,{data:v?v.slice(v.length-10,v.length):null,margin:{top:16,right:16,bottom:0,left:24},children:[Object(a.jsx)(Le.f,{dataKey:"createdAt",stroke:e.palette.text.secondary,interval:"preserveStartEnd"}),Object(a.jsx)(Le.g,{stroke:e.palette.text.secondary,children:Object(a.jsx)(Le.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:N})}),Object(a.jsx)(Le.e,{}),Object(a.jsx)(Le.b,{type:"monotone",dataKey:N,stroke:e.palette.primary.main,dot:!0})]})})]})})}),Object(a.jsx)(K.a,{item:!0,xs:12,md:4,lg:3,children:Object(a.jsx)(Ue.a,{className:n,children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(we,{children:"Current hive data"}),v&&v.length>0&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Temperature: ",v[v.length-1].temperature,"*C ",Object(a.jsx)("br",{}),"Humidity: ",v[v.length-1].humidity,"% ",Object(a.jsx)("br",{}),"Pressure: ",v[v.length-1].pressure,"kPa ",Object(a.jsx)("br",{}),"Weight: ",v[v.length-1].weight,"kg"]})}),!(v&&v.length>0)&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(L.a,{color:"textSecondary",className:t.depositContext,children:["Temperature: --*C ",Object(a.jsx)("br",{}),"Humidity: --% ",Object(a.jsx)("br",{}),"Pressure: --kPa ",Object(a.jsx)("br",{}),"Weight: --kg"]})}),Object(a.jsxs)(qe.a,{className:t.formControl,children:[Object(a.jsx)(Re.a,{id:"demo-simple-select-label",children:"Selected Hive"}),Object(a.jsxs)(We.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:-1===x?"":x,onChange:function(e){m(e.target.value),h(o[e.target.value]),V()},children:[Object(a.jsx)(Je.a,{value:"",disabled:!0,children:Object(a.jsx)("em",{children:"None"})}),o&&o.map((function(e,t){return Object(a.jsx)(Je.a,{value:t,children:e.title},t)}))]})]}),Object(a.jsxs)(qe.a,{className:t.formControl,children:[Object(a.jsx)(Re.a,{id:"demo-simple-select-label",children:"Measure to graph"}),Object(a.jsxs)(We.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:N,onChange:function(e){w(e.target.value)},children:[Object(a.jsx)(Je.a,{value:"temperature",children:"Temperature"}),Object(a.jsx)(Je.a,{value:"humidity",children:"Humidity"}),Object(a.jsx)(Je.a,{value:"pressure",children:"Pressure"}),Object(a.jsx)(Je.a,{value:"weight",children:"Weight"})]})]}),Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(a.jsx)(z.a,{color:"primary",onClick:function(){U(!0)},children:Object(a.jsx)(tt.a,{})}),b&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z.a,{color:"primary",style:{marginLeft:"auto",alignItems:"center"},onClick:function(){H(!0)},children:Object(a.jsx)(Ne.a,{})}),Object(a.jsx)(z.a,{color:"primary",style:{marginLeft:"auto",alignItems:"center"},onClick:function(){q(!0)},children:Object(a.jsx)(ee.a,{})})]})]})]})})}),b&&Object(a.jsxs)(xe.a,{show:D,onHide:function(){H(!1),J()},centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Update hive"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)($e,{hiveid:b._id})})]}),Object(a.jsxs)(xe.a,{show:B,onHide:function(){U(!1),J()},centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Add a new hive"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(Qe,{})})]}),b&&Object(a.jsxs)(xe.a,{show:R,onHide:W,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Delete?"})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:t.button,children:Object(a.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:W,children:"Close"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){ze.delete(b._id).then((function(){})).catch((function(e){console.log(e)})),q(!1),setTimeout((function(){J()}),100)},children:"Delete"})})]})})})]})]})}var ct=Object(H.a)((function(e){return{depositContext:{flex:1},seeMore:{marginTop:e.spacing(3)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}}));function rt(){var e=ct(),t=Object(c.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){s(S.getCurrentUser())};return Object(a.jsx)(K.a,{item:!0,xs:12,md:4,lg:3,children:Object(a.jsx)(Ue.a,{className:e.paper,children:Object(a.jsx)(r.a.Fragment,{children:i&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(we,{children:[i.username," profile"]}),Object(a.jsx)(L.a,{component:"p",variant:"h5",children:"ID:"}),Object(a.jsx)("ul",{children:Object(a.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:Object(a.jsx)("li",{children:i.id})})}),Object(a.jsx)(L.a,{component:"p",variant:"h5",children:"E-Mail:"}),Object(a.jsx)("ul",{children:Object(a.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:Object(a.jsx)("li",{children:i.email})})}),Object(a.jsx)(L.a,{component:"p",variant:"h5",children:"Authorities:"}),Object(a.jsx)("ul",{children:Object(a.jsx)(L.a,{color:"textSecondary",className:e.depositContext,align:"center",children:i.roles&&i.roles.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))})})]})})})})}var it=new(function(){function e(){Object(Te.a)(this,e)}return Object(Ae.a)(e,[{key:"getPublicContent",value:function(){return h.a.get("/api/test/all")}},{key:"getUserBoard",value:function(){return h.a.get("/api/test/user",{headers:O()})}},{key:"getKeeperBoard",value:function(){return h.a.get("/api/test/keeper",{headers:O()})}},{key:"getAdminBoard",value:function(){return h.a.get("/api/test/admin",{headers:O()})}},{key:"getAllUsers",value:function(){return h.a.get("/api/users",{headers:O()})}},{key:"setKeeperRole",value:function(e){return h.a.put("/api/users/setkeeper/".concat(e),null,{headers:O()})}},{key:"deleteUser",value:function(e){return h.a.delete("/api/users/".concat(e),{headers:O()})}}]),e}()),st=Object(H.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},button:{marginTop:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),ot=function(){var e=st(),t=Object(c.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(null),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(!1),h=Object(l.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)(!1),m=Object(l.a)(x,2),g=m[0],f=m[1],v=Object(c.useState)(""),y=Object(l.a)(v,2),k=y[0],C=y[1],N=Object(c.useState)(!1),w=Object(l.a)(N,2),A=w[0],F=w[1],H=function(){p(!1),E()},I=function(){f(!1)};function E(){return P.apply(this,arguments)}function P(){return(P=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.getCurrentUser()){e.next=4;break}return e.next=4,it.getAllUsers().then((function(e){s(e.data)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){E()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(K.a,{item:!0,xs:12,md:4,lg:3,children:Object(a.jsx)(Ue.a,{className:e.paper,children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(we,{children:"Approve registered users"}),Object(a.jsxs)(me.a,{size:"small",children:[Object(a.jsx)(Se.a,{children:Object(a.jsxs)(ve.a,{children:[Object(a.jsx)(fe.a,{children:"Username"}),Object(a.jsx)(fe.a,{align:"right",children:"Actions"})]})}),i&&Object(a.jsx)(ge.a,{children:i.map((function(e,t){return Object(a.jsxs)(ve.a,{children:[Object(a.jsx)(fe.a,{children:e.username}),Object(a.jsxs)(fe.a,{align:"right",children:[Object(a.jsx)(z.a,{color:"primary",onClick:function(){return function(e){u(i[e]),F(!1),C(""),p(!0)}(t)},children:Object(a.jsx)(ue.a,{})}),Object(a.jsx)(z.a,{color:"primary",onClick:function(){return function(e){u(i[e]),F(!1),C(""),f(!0)}(t)},children:Object(a.jsx)(ee.a,{})})]})]},t)}))})]})]})})}),d&&Object(a.jsxs)(xe.a,{show:O,onHide:H,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsxs)(xe.a.Title,{children:["Approve user ",d.username,"?"]})}),k&&Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:A?"alert alert-success":"alert alert-danger",role:"alert",children:k})})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:e.button,children:Object(a.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:H,children:"Close"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){it.setKeeperRole(d._id).then((function(e){C(e.data.message),F(!0)})).catch((function(e){console.log(e),console.log(e.message),F(!1)}))},children:"Approve"})})]})})})]}),d&&Object(a.jsxs)(xe.a,{show:g,onHide:I,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsxs)(xe.a.Title,{children:["Delete ",d.username,"?"]})}),k&&Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(B.a,{mt:1,children:Object(a.jsx)("div",{className:A?"alert alert-success":"alert alert-danger",role:"alert",children:k})})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:e.button,children:Object(a.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:I,children:"Close"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){it.deleteUser(d._id).then((function(e){C(e.data.message),F(!0)})).catch((function(e){console.log(e),F(!1)})),f(!1),setTimeout((function(){E()}),100)},children:"Delete"})})]})})})]})]})},lt="/api/notifications",jt=new(function(){function e(){Object(Te.a)(this,e)}return Object(Ae.a)(e,[{key:"getAll",value:function(){return h.a.get(lt,{headers:O()})}},{key:"getAllOfHive",value:function(e){return h.a.get(lt+"?hive=".concat(e),{headers:O()})}},{key:"get",value:function(e){return h.a.get(lt+"/".concat(e),{headers:O()})}},{key:"create",value:function(e){return h.a.post(lt,e,{headers:O()})}},{key:"update",value:function(e,t){return h.a.put(lt+"/".concat(e),t,{headers:O()})}},{key:"delete",value:function(e){return h.a.delete(lt+"/".concat(e),{headers:O()})}}]),e}());function dt(){return Object(a.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var ut=240,bt=Object(H.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:ut,width:"calc(100% - ".concat(ut,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},bg:{backgroundImage:"url(http://source.unsplash.com/collection/8626361)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",opacity:.3,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",height:"100%",width:"100%",zIndex:-1},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",height:"100vh",width:ut,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),drawerPaperMob:{position:"relative",whiteSpace:"nowrap",height:"100vh",width:ut,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ht(e){var t=e.window,n=bt(),r=Object(I.a)(),i=Object(c.useState)(void 0),s=Object(l.a)(i,2),o=s[0],j=s[1],d=Object(c.useState)(!1),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(!1),p=Object(l.a)(O,2),x=p[0],m=p[1],g=Object(c.useState)(!1),f=Object(l.a)(g,2),v=f[0],y=f[1],k=function(){y(!v)},C=function(){h(!1),w()};function w(){return H.apply(this,arguments)}function H(){return(H=Object(D.a)(T.a.mark((function e(){var t,n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=S.getCurrentUser())){e.next=11;break}return n=[],e.next=5,ze.getAllOfKeeper(t.id).then((function(e){n=e.data})).catch((function(e){console.log(e)}));case 5:return a=[],e.next=8,Promise.all(n.map(function(){var e=Object(D.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.getAllOfHive(t._id).then((function(e){var t,n=Object(A.a)(e.data);try{for(n.s();!(t=n.n()).done;){var c=t.value;a.splice(a.length,0,c)}}catch(r){n.e(r)}finally{n.f()}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:j(a),n=null,a=null;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){w()}),[]);var V=void 0!==t?function(){return t().document.body}:void 0;return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(E.a,{}),Object(a.jsx)("div",{className:n.bg}),Object(a.jsx)(U.a,{position:"absolute",className:Object(F.a)(n.appBar,x&&n.appBarShift),children:Object(a.jsxs)(M.a,{className:n.toolbar,children:[Object(a.jsx)(ke.a,{xsDown:!0,implementation:"css",children:Object(a.jsx)(q.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},className:Object(F.a)(n.menuButton,x&&n.menuButtonHidden),children:Object(a.jsx)(Y.a,{})})}),Object(a.jsx)(ke.a,{smUp:!0,implementation:"css",children:Object(a.jsx)(q.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:k,className:Object(F.a)(n.menuButton,x&&n.menuButtonHidden),children:Object(a.jsx)(Y.a,{})})}),Object(a.jsx)(L.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title,children:"Dashboard"}),Object(a.jsx)(q.a,{color:"inherit",onClick:function(){h(!0),w()},children:Object(a.jsx)(W.a,{badgeContent:o?o.length:"",color:"secondary",children:Object(a.jsx)(Z.a,{})})})]})}),Object(a.jsx)(ke.a,{xsDown:!0,implementation:"css",children:Object(a.jsxs)(P.a,{variant:"permanent",classes:{paper:Object(F.a)(n.drawerPaper,!x&&n.drawerPaperClose)},open:x,children:[Object(a.jsx)("div",{className:n.toolbarIcon,children:Object(a.jsx)(q.a,{onClick:function(){m(!1)},children:Object(a.jsx)(X.a,{})})}),Object(a.jsx)(R.a,{}),Object(a.jsx)(_.a,{children:Oe}),S.getCurrentUser().roles.includes("ROLE_ADMIN")&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(R.a,{}),Object(a.jsx)(_.a,{children:pe})]})]})}),Object(a.jsx)(ke.a,{smUp:!0,implementation:"css",children:Object(a.jsxs)(P.a,{container:V,variant:"temporary",anchor:"rtl"===r.direction?"right":"left",classes:{paper:n.drawerPaper},open:v,onClose:k,ModalProps:{keepMounted:!0},children:[Object(a.jsx)("div",{className:n.toolbarIcon,children:Object(a.jsx)(q.a,{onClick:k,children:Object(a.jsx)(X.a,{})})}),Object(a.jsx)(R.a,{}),Object(a.jsx)(_.a,{children:Oe}),S.getCurrentUser().roles.includes("ROLE_ADMIN")&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(R.a,{}),Object(a.jsx)(_.a,{children:pe})]})]})}),Object(a.jsxs)("main",{className:n.content,children:[Object(a.jsx)("div",{className:n.appBarSpacer}),Object(a.jsxs)(J.a,{maxWidth:"lg",className:n.container,children:[Object(a.jsxs)(K.a,{container:!0,spacing:3,justify:"center",children:[Object(a.jsx)(N,{path:"/db/notes",component:_e}),Object(a.jsx)(N,{path:"/db/hives",component:at}),Object(a.jsx)(N,{path:"/db/profile",component:rt}),Object(a.jsx)(N,{path:"/db/approve",component:ot})]}),Object(a.jsx)(B.a,{pt:4,children:Object(a.jsx)(dt,{})})]})]}),Object(a.jsxs)(xe.a,{show:b,onHide:C,centered:!0,children:[Object(a.jsx)(xe.a.Header,{closeButton:!0,children:Object(a.jsx)(xe.a.Title,{children:"Notifications"})}),Object(a.jsx)(xe.a.Body,{children:Object(a.jsx)(me.a,{size:"small",children:o&&Object(a.jsx)(ge.a,{children:o.map((function(e,t){return Object(a.jsxs)(ve.a,{children:[Object(a.jsx)(fe.a,{children:e.level}),Object(a.jsx)(fe.a,{children:e.content}),Object(a.jsxs)(fe.a,{align:"center",children:[new Date(e.createdAt).toLocaleDateString(),"   ",new Date(e.createdAt).toLocaleTimeString()]}),Object(a.jsx)(fe.a,{align:"right",children:Object(a.jsx)(z.a,{color:"primary",onClick:function(){return function(e){jt.delete(o[e]._id),w()}(t)},children:Object(a.jsx)(ee.a,{})})})]},t)}))})})}),Object(a.jsx)(xe.a.Footer,{children:Object(a.jsx)("div",{className:n.button,children:Object(a.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:C,children:"Close"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){o.forEach((function(e){jt.delete(e._id)})),h(!1),w()},children:"Clear all"})})]})})})]})]})}var Ot=n(595),pt=n(132),xt=n.n(pt),mt=n(59);function gt(){return Object(a.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var ft=Object(H.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(http://source.unsplash.com/collection/8626361)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),vt=function(e){var t=ft(),n=Object(c.useState)(""),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(!1),h=Object(l.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)(""),m=Object(l.a)(x,2),g=m[0],f=m[1];return Object(a.jsxs)(K.a,{container:!0,component:"main",className:t.root,children:[Object(a.jsx)(E.a,{}),Object(a.jsx)(K.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(a.jsx)(K.a,{item:!0,xs:12,sm:8,md:5,component:Ue.a,elevation:6,square:!0,children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(Ot.a,{className:t.avatar,children:Object(a.jsx)(xt.a,{})}),Object(a.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)(mt.ValidatorForm,{className:t.form,onSubmit:function(t){t.preventDefault(),f(""),p(!0),S.login(i,d).then((function(){e.history.push("/#"),window.location.reload()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();p(!1),f(t)})),p(!1)},onError:function(e){return console.log(e)},children:[g&&Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})}),Object(a.jsx)(mt.TextValidator,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"username",autoFocus:!0,value:i,onChange:function(e){var t=e.target.value;s(t)},validators:["required"],errorMessages:["this field is required"]}),Object(a.jsx)(mt.TextValidator,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){var t=e.target.value;u(t)},validators:["required"],errorMessages:["this field is required"]}),Object(a.jsx)(ye.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:O,children:"Sign In"}),Object(a.jsxs)(K.a,{container:!0,justify:"flex-end",children:[Object(a.jsx)(K.a,{item:!0,xs:!0,children:Object(a.jsx)(z.a,{href:"/#",variant:"body2",children:"Home"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(z.a,{href:"/#/register",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)(gt,{})})]})]})})]})};function yt(){return Object(a.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var kt=Object(H.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(http://source.unsplash.com/collection/8626361)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),St=function(e){var t=kt(),n=Object(c.useState)(""),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(""),h=Object(l.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)(!1),m=Object(l.a)(x,2),g=m[0],f=m[1],v=Object(c.useState)(""),y=Object(l.a)(v,2),k=y[0],C=y[1];return Object(a.jsxs)(K.a,{container:!0,component:"main",className:t.root,children:[Object(a.jsx)(E.a,{}),Object(a.jsx)(K.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(a.jsx)(K.a,{item:!0,xs:12,sm:8,md:5,component:Ue.a,elevation:6,square:!0,children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(Ot.a,{className:t.avatar,children:Object(a.jsx)(xt.a,{})}),Object(a.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)(mt.ValidatorForm,{className:t.form,onSubmit:function(e){e.preventDefault(),C(""),f(!1),S.register(i,d,O).then((function(e){C(e.data.message+" You will be able to use website when administrator approves you as a keeper."),f(!0)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();C(t),f(!1)}))},onError:function(e){return console.log(e)},children:[k&&Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)("div",{className:g?"alert alert-success":"alert alert-danger",role:"alert",children:k})}),!g&&Object(a.jsxs)(B.a,{mt:5,children:[Object(a.jsxs)(K.a,{container:!0,spacing:2,children:[Object(a.jsx)(K.a,{item:!0,xs:12,children:Object(a.jsx)(mt.TextValidator,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",value:i,onChange:function(e){var t=e.target.value;s(t)},autoFocus:!0,validators:["required","minStringLength:3","maxStringLength:20"],errorMessages:["this field is required","The username must be between 3 and 20 characters.","The username must be between 3 and 20 characters."]})}),Object(a.jsx)(K.a,{item:!0,xs:12,children:Object(a.jsx)(mt.TextValidator,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:d,onChange:function(e){var t=e.target.value;u(t)},validators:["required","isEmail"],errorMessages:["this field is required","This is not valid email."]})}),Object(a.jsx)(K.a,{item:!0,xs:12,children:Object(a.jsx)(mt.TextValidator,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:function(e){var t=e.target.value;p(t)},validators:["required","minStringLength:6","maxStringLength:40"],errorMessages:["this field is required","The password must be between 6 and 40 characters.","The password must be between 6 and 40 characters."]})})]}),Object(a.jsx)(ye.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(a.jsxs)(K.a,{container:!0,justify:"flex-end",children:[Object(a.jsx)(K.a,{item:!0,xs:!0,children:Object(a.jsx)(z.a,{href:"/#",variant:"body2",children:"Home"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(z.a,{href:"/#/login",variant:"body2",children:"Already have an account? Sign in"})})]})]}),g&&Object(a.jsx)(ye.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return e.history.push("/")},children:"Home"})]}),Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)(yt,{})})]})})]})},Ct=n(261),Nt=n.n(Ct),wt=n(260);function Tt(){return Object(a.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Justinas Munius IFF-7/5.  ",(new Date).getFullYear(),"."]})}var At=Object(H.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column",minHeight:"100vh"},icon:{marginRight:e.spacing(2)},bg:{backgroundImage:"url(http://source.unsplash.com/collection/8626361)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",opacity:.3,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",height:"calc(100% - ".concat(70,"px)"),width:"100%"},heroContent:{fontFamily:"Langar",background:"rgba(255, 255, 255, 0.8)",padding:e.spacing(8,0,6),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{height:70,padding:e.spacing(3,2),position:"relative",marginTop:"auto",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]}}})),Dt=function(e){var t=At(),n=Object(c.useState)(!1),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),d=j[0],u=j[1],b=Object(c.useState)(void 0),h=Object(l.a)(b,2),O=h[0],p=h[1];Object(wt.a)({url:"https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap"}),Object(c.useEffect)((function(){var e=S.getCurrentUser();e&&(p(e),s(e.roles.includes("ROLE_KEEPER")),u(e.roles.includes("ROLE_ADMIN")))}),[]);var x=function(){S.logout(),window.location.reload()};return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(E.a,{}),Object(a.jsx)(U.a,{position:"relative",children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(Nt.a,{className:t.icon}),Object(a.jsx)(L.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Hive Manager"})]})}),Object(a.jsxs)("main",{children:[Object(a.jsx)("div",{className:t.bg}),Object(a.jsx)(Ue.a,{className:t.heroContent,children:Object(a.jsxs)(J.a,{maxWidth:"md",children:[Object(a.jsx)(L.a,{style:{fontFamily:"Montserrat"},component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Welcome to HiveManager"}),Object(a.jsx)(L.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Tool to make you manage your beehives with ease."}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:t.heroButtons,children:[!O&&Object(a.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){return e.history.push("/login")},children:"Sign In"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:function(){return e.history.push("/register")},children:"Sign Up"})})]}),O&&(i||d)&&Object(a.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){return e.history.push("/db/hives")},children:"DashBoard"})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:x,children:"Log Out"})})]}),O&&!(i||d)&&Object(a.jsxs)(K.a,{container:!0,spacing:2,justify:"center",children:[Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(L.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"You will be able to use website when administrator approves you as a keeper."})}),Object(a.jsx)(K.a,{item:!0,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:x,children:"Log Out"})})]})]})]})})]}),Object(a.jsx)("footer",{className:t.footer,children:Object(a.jsx)(J.a,{maxWidth:"sm",children:Object(a.jsx)(Tt,{})})})]})},Ft=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],u=Object(c.useState)(void 0),b=Object(l.a)(u,2),h=b[0],O=b[1];Object(c.useEffect)((function(){var e=S.getCurrentUser();e&&(O(e),r(e.roles.includes("ROLE_KEEPER")),d(e.roles.includes("ROLE_ADMIN")))}),[]);return Object(a.jsx)("div",{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/login",component:vt}),Object(a.jsx)(j.b,{exact:!0,path:"/register",component:St}),Object(a.jsx)(j.b,{exact:!0,path:["/","/h"],component:Dt}),Object(a.jsx)(N,{path:"/db",component:ht,appProps:{currentUser:h,showAdminBoard:o,showKeeperBoard:n}}),(o||n)&&Object(a.jsx)(j.b,{path:"/db",component:ht}),Object(a.jsx)(j.b,{exact:!0,path:"/tutorials",component:v}),Object(a.jsx)(j.b,{exact:!0,path:"/add",component:m}),Object(a.jsx)(j.b,{path:"/tutorials/:id",component:g})]})})};s.a.render(Object(a.jsx)(o.a,{children:Object(a.jsx)(Ft,{})}),document.getElementById("root"))}},[[524,1,2]]]);
//# sourceMappingURL=main.f4217936.chunk.js.map